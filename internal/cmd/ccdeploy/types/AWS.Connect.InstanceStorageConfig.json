{
    "Arn": "arn:aws:cloudformation:us-east-1::type/resource/AWS-Connect-InstanceStorageConfig",
    "Type": "RESOURCE",
    "TypeName": "AWS::Connect::InstanceStorageConfig",
    "IsDefaultVersion": true,
    "Description": "Resource Type definition for AWS::Connect::InstanceStorageConfig",
    "Schema": "{\n    \"typeName\": \"AWS::Connect::InstanceStorageConfig\",\n    \"description\": \"Resource Type definition for AWS::Connect::InstanceStorageConfig\",\n    \"sourceUrl\": \"https://github.com/aws-cloudformation/aws-cloudformation-resource-providers-connect\",\n    \"definitions\": {\n        \"KinesisStreamArn\": {\n            \"description\": \"An ARN is a unique AWS resource identifier.\",\n            \"type\": \"string\",\n            \"pattern\": \"^arn:aws[-a-z0-9]*:kinesis:[-a-z0-9]*:[0-9]{12}:stream/[-a-zA-Z0-9_.]*$\"\n        },\n        \"FirehoseDeliveryStreamArn\": {\n            \"description\": \"An ARN is a unique AWS resource identifier.\",\n            \"type\": \"string\",\n            \"pattern\": \"^arn:aws[-a-z0-9]*:firehose:[-a-z0-9]*:[0-9]{12}:deliverystream/[-a-zA-Z0-9_.]*$\"\n        },\n        \"AssociationId\": {\n            \"description\": \"An associationID is automatically generated when a storage config is associated with an instance\",\n            \"type\": \"string\",\n            \"pattern\": \"^[-a-z0-9]*$\",\n            \"minLength\": 1,\n            \"maxLength\": 100\n        },\n        \"InstanceStorageResourceType\": {\n            \"description\": \"Specifies the type of storage resource available for the instance\",\n            \"type\": \"string\",\n            \"enum\": [\n                \"CHAT_TRANSCRIPTS\",\n                \"CALL_RECORDINGS\",\n                \"SCHEDULED_REPORTS\",\n                \"MEDIA_STREAMS\",\n                \"CONTACT_TRACE_RECORDS\",\n                \"AGENT_EVENTS\"\n            ]\n        },\n        \"StorageType\": {\n            \"description\": \"Specifies the storage type to be associated with the instance\",\n            \"type\": \"string\",\n            \"enum\": [\n                \"S3\",\n                \"KINESIS_VIDEO_STREAM\",\n                \"KINESIS_STREAM\",\n                \"KINESIS_FIREHOSE\"\n            ]\n        },\n        \"BucketName\": {\n            \"description\": \"A name for the S3 Bucket\",\n            \"type\": \"string\",\n            \"minLength\": 1,\n            \"maxLength\": 128\n        },\n        \"Hours\": {\n            \"description\": \"Number of hours\",\n            \"type\": \"number\"\n        },\n        \"Prefix\": {\n            \"description\": \"Prefixes are used to infer logical hierarchy\",\n            \"type\": \"string\",\n            \"minLength\": 1,\n            \"maxLength\": 128\n        },\n        \"EncryptionType\": {\n            \"description\": \"Specifies default encryption using AWS KMS-Managed Keys\",\n            \"type\": \"string\",\n            \"enum\": [\n                \"KMS\"\n            ]\n        },\n        \"KeyId\": {\n            \"description\": \"Specifies the encryption key id\",\n            \"type\": \"string\",\n            \"minLength\": 1,\n            \"maxLength\": 128\n        },\n        \"EncryptionConfig\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"properties\": {\n                \"EncryptionType\": {\n                    \"$ref\": \"#/definitions/EncryptionType\"\n                },\n                \"KeyId\": {\n                    \"$ref\": \"#/definitions/KeyId\"\n                }\n            },\n            \"required\": [\n                \"EncryptionType\",\n                \"KeyId\"\n            ]\n        },\n        \"S3Config\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"properties\": {\n                \"BucketName\": {\n                    \"$ref\": \"#/definitions/BucketName\"\n                },\n                \"BucketPrefix\": {\n                    \"$ref\": \"#/definitions/Prefix\"\n                },\n                \"EncryptionConfig\": {\n                    \"$ref\": \"#/definitions/EncryptionConfig\"\n                }\n            },\n            \"required\": [\n                \"BucketName\",\n                \"BucketPrefix\"\n            ]\n        },\n        \"KinesisVideoStreamConfig\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"properties\": {\n                \"Prefix\": {\n                    \"$ref\": \"#/definitions/Prefix\"\n                },\n                \"RetentionPeriodHours\": {\n                    \"$ref\": \"#/definitions/Hours\"\n                },\n                \"EncryptionConfig\": {\n                    \"$ref\": \"#/definitions/EncryptionConfig\"\n                }\n            },\n            \"required\": [\n                \"Prefix\",\n                \"RetentionPeriodHours\"\n            ]\n        },\n        \"KinesisStreamConfig\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"properties\": {\n                \"StreamArn\": {\n                    \"$ref\": \"#/definitions/KinesisStreamArn\"\n                }\n            },\n            \"required\": [\n                \"StreamArn\"\n            ]\n        },\n        \"KinesisFirehoseConfig\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"properties\": {\n                \"FirehoseArn\": {\n                    \"$ref\": \"#/definitions/FirehoseDeliveryStreamArn\"\n                }\n            },\n            \"required\": [\n                \"FirehoseArn\"\n            ]\n        }\n    },\n    \"properties\": {\n        \"InstanceArn\": {\n            \"description\": \"Connect Instance ID with which the storage config will be associated\",\n            \"type\": \"string\",\n            \"pattern\": \"^arn:aws[-a-z0-9]*:connect:[-a-z0-9]*:[0-9]{12}:instance/[-a-zA-Z0-9]*$\"\n        },\n        \"ResourceType\": {\n            \"$ref\": \"#/definitions/InstanceStorageResourceType\"\n        },\n        \"AssociationId\": {\n            \"$ref\": \"#/definitions/AssociationId\"\n        },\n        \"StorageType\": {\n            \"$ref\": \"#/definitions/StorageType\"\n        },\n        \"S3Config\": {\n            \"$ref\": \"#/definitions/S3Config\"\n        },\n        \"KinesisVideoStreamConfig\": {\n            \"$ref\": \"#/definitions/KinesisVideoStreamConfig\"\n        },\n        \"KinesisStreamConfig\": {\n            \"$ref\": \"#/definitions/KinesisStreamConfig\"\n        },\n        \"KinesisFirehoseConfig\": {\n            \"$ref\": \"#/definitions/KinesisFirehoseConfig\"\n        }\n    },\n    \"tagging\": {\n        \"taggable\": false,\n        \"tagOnCreate\": false,\n        \"tagUpdatable\": false,\n        \"cloudFormationSystemTags\": false\n    },\n    \"required\": [\n        \"InstanceArn\",\n        \"ResourceType\",\n        \"StorageType\"\n    ],\n    \"additionalProperties\": false,\n    \"readOnlyProperties\": [\n        \"/properties/AssociationId\"\n    ],\n    \"createOnlyProperties\": [\n        \"/properties/InstanceArn\",\n        \"/properties/ResourceType\"\n    ],\n    \"primaryIdentifier\": [\n        \"/properties/InstanceArn\",\n        \"/properties/AssociationId\",\n        \"/properties/ResourceType\"\n    ],\n    \"handlers\": {\n        \"create\": {\n            \"permissions\": [\n                \"connect:AssociateInstanceStorageConfig\",\n                \"connect:DescribeInstance\",\n                \"ds:DescribeDirectories\",\n                \"s3:GetBucketAcl\",\n                \"s3:GetBucketLocation\",\n                \"iam:PutRolePolicy\",\n                \"kinesis:DescribeStream\",\n                \"kms:DescribeKey\",\n                \"kms:CreateGrant\",\n                \"firehose:DescribeDeliveryStream\"\n            ]\n        },\n        \"read\": {\n            \"permissions\": [\n                \"connect:DescribeInstanceStorageConfig\",\n                \"connect:ListInstanceStorageConfigs\",\n                \"connect:DescribeInstance\",\n                \"ds:DescribeDirectories\",\n                \"s3:GetBucketAcl\",\n                \"s3:GetBucketLocation\"\n            ]\n        },\n        \"update\": {\n            \"permissions\": [\n                \"connect:UpdateInstanceStorageConfig\",\n                \"ds:DescribeDirectories\",\n                \"s3:GetBucketAcl\",\n                \"s3:GetBucketLocation\",\n                \"kinesis:DescribeStream\",\n                \"iam:PutRolePolicy\",\n                \"kms:DescribeKey\",\n                \"kms:CreateGrant\",\n                \"kms:RetireGrant\",\n                \"firehose:DescribeDeliveryStream\"\n            ]\n        },\n        \"delete\": {\n            \"permissions\": [\n                \"connect:DisassociateInstanceStorageConfig\",\n                \"connect:DescribeInstance\",\n                \"s3:GetBucketAcl\",\n                \"s3:GetBucketLocation\",\n                \"kms:RetireGrant\"\n            ]\n        },\n        \"list\": {\n            \"permissions\": [\n                \"connect:DescribeInstance\",\n                \"connect:ListInstanceStorageConfigs\",\n                \"ds:DescribeDirectories\"\n            ]\n        }\n    }\n}",
    "ProvisioningType": "FULLY_MUTABLE",
    "DeprecatedStatus": "LIVE",
    "Visibility": "PUBLIC",
    "SourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-resource-providers-connect",
    "TimeCreated": "2022-03-28T18:10:12.825000+00:00"
}
