{
    "Arn": "arn:aws:cloudformation:us-east-1::type/resource/AWS-IoT-JobTemplate",
    "Type": "RESOURCE",
    "TypeName": "AWS::IoT::JobTemplate",
    "IsDefaultVersion": true,
    "Description": "Job templates enable you to preconfigure jobs so that you can deploy them to multiple sets of target devices.",
    "Schema": "{\n  \"typeName\": \"AWS::IoT::JobTemplate\",\n  \"description\": \"Job templates enable you to preconfigure jobs so that you can deploy them to multiple sets of target devices.\",\n  \"sourceUrl\": \"https://github.com/aws-cloudformation/aws-cloudformation-resource-providers-iot.git\",\n  \"documentationUrl\": \"https://docs.aws.amazon.com/iot/latest/developerguide/job-templates.html\",\n  \"definitions\": {\n    \"ExponentialRolloutRate\": {\n      \"description\": \"Allows you to create an exponential rate of rollout for a job.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"BaseRatePerMinute\": {\n          \"description\": \"The minimum number of things that will be notified of a pending job, per minute at the start of job rollout. This parameter allows you to define the initial rate of rollout.\",\n          \"$ref\": \"#/definitions/BaseRatePerMinute\"\n        },\n        \"IncrementFactor\": {\n          \"description\": \"The exponential factor to increase the rate of rollout for a job.\",\n          \"$ref\": \"#/definitions/IncrementFactor\"\n        },\n        \"RateIncreaseCriteria\": {\n          \"description\": \"The criteria to initiate the increase in rate of rollout for a job.\",\n          \"type\": \"object\",\n          \"$ref\": \"#/definitions/RateIncreaseCriteria\"\n        }\n      },\n      \"additionalProperties\": false,\n      \"required\": [\n        \"BaseRatePerMinute\",\n        \"IncrementFactor\",\n        \"RateIncreaseCriteria\"\n      ]\n    },\n    \"BaseRatePerMinute\": {\n      \"type\": \"integer\",\n      \"minimum\": 1\n    },\n    \"IncrementFactor\": {\n      \"type\": \"number\",\n      \"minimum\": 1,\n      \"maximum\": 5\n    },\n    \"RateIncreaseCriteria\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"NumberOfNotifiedThings\": {\n          \"$ref\": \"#/definitions/NumberOfNotifiedThings\"\n        },\n        \"NumberOfSucceededThings\": {\n          \"$ref\": \"#/definitions/NumberOfSucceededThings\"\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"NumberOfNotifiedThings\": {\n      \"type\": \"integer\",\n      \"minimum\": 1\n    },\n    \"NumberOfSucceededThings\": {\n      \"type\": \"integer\",\n      \"minimum\": 1\n    },\n    \"MaximumPerMinute\": {\n      \"type\": \"integer\",\n      \"minimum\": 1\n    },\n    \"AbortCriteria\": {\n      \"description\": \"The criteria that determine when and how a job abort takes place.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"Action\": {\n          \"description\": \"The type of job action to take to initiate the job abort.\",\n          \"$ref\": \"#/definitions/Action\"\n        },\n        \"FailureType\": {\n          \"description\": \"The type of job execution failures that can initiate a job abort.\",\n          \"$ref\": \"#/definitions/FailureType\"\n        },\n        \"MinNumberOfExecutedThings\": {\n          \"description\": \"The minimum number of things which must receive job execution notifications before the job can be aborted.\",\n          \"$ref\": \"#/definitions/MinNumberOfExecutedThings\"\n        },\n        \"ThresholdPercentage\": {\n          \"description\": \"The minimum percentage of job execution failures that must occur to initiate the job abort.\",\n          \"$ref\": \"#/definitions/ThresholdPercentage\"\n        }\n      },\n      \"additionalProperties\": false,\n      \"required\": [\n        \"Action\",\n        \"FailureType\",\n        \"MinNumberOfExecutedThings\",\n        \"ThresholdPercentage\"\n      ]\n    },\n    \"Action\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"CANCEL\"\n      ]\n    },\n    \"FailureType\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"FAILED\",\n        \"REJECTED\",\n        \"TIMED_OUT\",\n        \"ALL\"\n      ]\n    },\n    \"MinNumberOfExecutedThings\": {\n      \"type\": \"integer\",\n      \"minimum\": 1\n    },\n    \"ThresholdPercentage\": {\n      \"type\": \"number\",\n      \"maximum\": 100\n    },\n    \"InProgressTimeoutInMinutes\": {\n      \"description\": \"Specifies the amount of time, in minutes, this device has to finish execution of this job.\",\n      \"type\": \"integer\",\n      \"minimum\": 1,\n      \"maximum\": 10080\n    },\n    \"RoleArn\": {\n      \"description\": \"The ARN of an IAM role that grants grants permission to download files from the S3 bucket where the job data/updates are stored. The role must also grant permission for IoT to download the files.\",\n      \"type\": \"string\",\n      \"minLength\": 20,\n      \"maxLength\": 2048\n    },\n    \"ExpiresInSec\": {\n      \"description\": \"How number (in seconds) pre-signed URLs are valid.\",\n      \"type\": \"integer\",\n      \"minimum\": 60,\n      \"maximum\": 3600\n    },\n    \"RetryCriteria\": {\n      \"description\": \"Specifies how many times a failure type should be retried.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"NumberOfRetries\": {\n          \"type\": \"integer\",\n          \"minimum\": 0,\n          \"maximum\": 10\n        },\n        \"FailureType\": {\n          \"$ref\": \"#/definitions/JobRetryFailureType\"\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"JobRetryFailureType\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"FAILED\",\n        \"TIMED_OUT\",\n        \"ALL\"\n      ]\n    },\n    \"MaintenanceWindow\": {\n      \"description\": \"Specifies a start time and duration for a scheduled Job.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"StartTime\": {\n          \"type\": \"string\",\n          \"minLength\": 1,\n          \"maxLength\": 256\n        },\n        \"DurationInMinutes\": {\n          \"type\": \"integer\",\n          \"minimum\": 1,\n          \"maximum\": 1430\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"DestinationPackageVersion\": {\n      \"description\": \"Specifies target package version ARNs for a software update job.\",\n      \"type\": \"string\",\n      \"minLength\": 1,\n      \"maxLength\": 1600\n    },\n    \"Tag\": {\n      \"description\": \"A key-value pair to associate with a resource.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"Key\": {\n          \"type\": \"string\",\n          \"description\": \"The tag's key.\",\n          \"minLength\": 1,\n          \"maxLength\": 128\n        },\n        \"Value\": {\n          \"type\": \"string\",\n          \"description\": \"The tag's value.\",\n          \"minLength\": 1,\n          \"maxLength\": 256\n        }\n      },\n      \"required\": [\n        \"Value\",\n        \"Key\"\n      ],\n      \"additionalProperties\": false\n    }\n  },\n  \"properties\": {\n    \"Arn\": {\n      \"type\": \"string\"\n    },\n    \"JobArn\": {\n      \"description\": \"Optional for copying a JobTemplate from a pre-existing Job configuration.\",\n      \"type\": \"string\"\n    },\n    \"JobTemplateId\": {\n      \"type\": \"string\",\n      \"pattern\": \"[a-zA-Z0-9_-]+\",\n      \"minLength\": 1,\n      \"maxLength\": 64\n    },\n    \"Description\": {\n      \"description\": \"A description of the Job Template.\",\n      \"type\": \"string\",\n      \"pattern\": \"[^\\\\p{C}]+\",\n      \"maxLength\": 2028\n    },\n    \"Document\": {\n      \"description\": \"The job document. Required if you don't specify a value for documentSource.\",\n      \"type\": \"string\",\n      \"maxLength\": 32768\n    },\n    \"DocumentSource\": {\n      \"description\": \"An S3 link to the job document to use in the template. Required if you don't specify a value for document.\",\n      \"type\": \"string\",\n      \"minLength\": 1,\n      \"maxLength\": 1350\n    },\n    \"TimeoutConfig\": {\n      \"description\": \"Specifies the amount of time each device has to finish its execution of the job.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"InProgressTimeoutInMinutes\": {\n          \"$ref\": \"#/definitions/InProgressTimeoutInMinutes\"\n        }\n      },\n      \"required\": [\n        \"InProgressTimeoutInMinutes\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"JobExecutionsRolloutConfig\": {\n      \"description\": \"Allows you to create a staged rollout of a job.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"ExponentialRolloutRate\": {\n          \"description\": \"The rate of increase for a job rollout. This parameter allows you to define an exponential rate for a job rollout.\",\n          \"$ref\": \"#/definitions/ExponentialRolloutRate\"\n        },\n        \"MaximumPerMinute\": {\n          \"description\": \"The maximum number of things that will be notified of a pending job, per minute. This parameter allows you to create a staged rollout.\",\n          \"$ref\": \"#/definitions/MaximumPerMinute\"\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"AbortConfig\": {\n      \"description\": \"The criteria that determine when and how a job abort takes place.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"CriteriaList\": {\n          \"type\": \"array\",\n          \"insertionOrder\": false,\n          \"minItems\": 1,\n          \"items\": {\n            \"$ref\": \"#/definitions/AbortCriteria\"\n          }\n        }\n      },\n      \"required\": [\n        \"CriteriaList\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"PresignedUrlConfig\": {\n      \"type\": \"object\",\n      \"description\": \"Configuration for pre-signed S3 URLs.\",\n      \"properties\": {\n        \"RoleArn\": {\n          \"$ref\": \"#/definitions/RoleArn\"\n        },\n        \"ExpiresInSec\": {\n          \"$ref\": \"#/definitions/ExpiresInSec\"\n        }\n      },\n      \"required\": [\n        \"RoleArn\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"JobExecutionsRetryConfig\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"RetryCriteriaList\": {\n          \"type\": \"array\",\n          \"insertionOrder\": false,\n          \"minItems\": 1,\n          \"maxItems\": 2,\n          \"items\": {\n            \"$ref\": \"#/definitions/RetryCriteria\"\n          }\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"MaintenanceWindows\": {\n      \"type\": \"array\",\n      \"insertionOrder\": false,\n      \"items\": {\n        \"$ref\": \"#/definitions/MaintenanceWindow\"\n      }\n    },\n    \"DestinationPackageVersions\": {\n      \"type\": \"array\",\n      \"insertionOrder\": false,\n      \"items\": {\n        \"$ref\": \"#/definitions/DestinationPackageVersion\"\n      }\n    },\n    \"Tags\": {\n      \"description\": \"Metadata that can be used to manage the JobTemplate.\",\n      \"type\": \"array\",\n      \"maxItems\": 50,\n      \"uniqueItems\": true,\n      \"insertionOrder\": false,\n      \"items\": {\n        \"$ref\": \"#/definitions/Tag\"\n      }\n    }\n  },\n  \"required\": [\n    \"JobTemplateId\",\n    \"Description\"\n  ],\n  \"taggable\": true,\n  \"additionalProperties\": false,\n  \"readOnlyProperties\": [\n    \"/properties/Arn\"\n  ],\n  \"writeOnlyProperties\": [\n    \"/properties/JobArn\",\n    \"/properties/Tags\"\n  ],\n  \"createOnlyProperties\": [\n    \"/properties/JobTemplateId\",\n    \"/properties/JobArn\",\n    \"/properties/Description\",\n    \"/properties/Document\",\n    \"/properties/DocumentSource\",\n    \"/properties/TimeoutConfig\",\n    \"/properties/JobExecutionsRolloutConfig\",\n    \"/properties/AbortConfig\",\n    \"/properties/PresignedUrlConfig\",\n    \"/properties/Tags\"\n  ],\n  \"primaryIdentifier\": [\n    \"/properties/JobTemplateId\"\n  ],\n  \"handlers\": {\n    \"create\": {\n      \"permissions\": [\n        \"iot:CreateJobTemplate\",\n        \"iam:PassRole\",\n        \"s3:GetObject\",\n        \"iot:TagResource\"\n      ]\n    },\n    \"read\": {\n      \"permissions\": [\n        \"iot:DescribeJobTemplate\"\n      ]\n    },\n    \"delete\": {\n      \"permissions\": [\n        \"iot:DeleteJobTemplate\"\n      ]\n    },\n    \"list\": {\n      \"permissions\": [\n        \"iot:ListJobTemplates\"\n      ]\n    }\n  }\n}\n",
    "ProvisioningType": "IMMUTABLE",
    "DeprecatedStatus": "LIVE",
    "Visibility": "PUBLIC",
    "SourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-resource-providers-iot.git",
    "DocumentationUrl": "https://docs.aws.amazon.com/iot/latest/developerguide/job-templates.html",
    "TimeCreated": "2021-09-07T23:30:42.984000+00:00"
}
