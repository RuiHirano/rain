{
    "Arn": "arn:aws:cloudformation:us-east-1::type/resource/AWS-LookoutMetrics-AnomalyDetector",
    "Type": "RESOURCE",
    "TypeName": "AWS::LookoutMetrics::AnomalyDetector",
    "IsDefaultVersion": true,
    "Description": "An Amazon Lookout for Metrics Detector",
    "Schema": "{\n  \"typeName\": \"AWS::LookoutMetrics::AnomalyDetector\",\n  \"description\": \"An Amazon Lookout for Metrics Detector\",\n  \"sourceUrl\": \"https://docs.aws.amazon.com/lookoutmetrics/latest/dev/lookoutmetrics-welcome.html\",\n  \"definitions\": {\n    \"Arn\": {\n      \"type\": \"string\",\n      \"maxLength\": 256,\n      \"pattern\": \"arn:([a-z\\\\d-]+):.*:.*:.*:.+\"\n    },\n    \"ColumnName\": {\n      \"description\": \"Name of a column in the data.\",\n      \"type\": \"string\",\n      \"minLength\": 1,\n      \"maxLength\": 63,\n      \"pattern\": \"^[a-zA-Z0-9][a-zA-Z0-9\\\\-_]*\"\n    },\n    \"Charset\": {\n      \"type\": \"string\",\n      \"maxLength\": 63,\n      \"pattern\": \"^[a-zA-Z0-9][a-zA-Z0-9\\\\-_]*\"\n    },\n    \"CsvFormatDescriptor\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"FileCompression\": {\n          \"type\": \"string\",\n          \"enum\": [\n            \"NONE\",\n            \"GZIP\"\n          ]\n        },\n        \"Charset\": {\n          \"$ref\": \"#/definitions/Charset\"\n        },\n        \"Delimiter\": {\n          \"type\": \"string\",\n          \"maxLength\": 1,\n          \"pattern\": \"[^\\\\r\\\\n]\"\n        },\n        \"HeaderList\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"$ref\": \"#/definitions/ColumnName\"\n          }\n        },\n        \"QuoteSymbol\": {\n          \"type\": \"string\",\n          \"maxLength\": 1,\n          \"pattern\": \"[^\\\\r\\\\n]|^$\"\n        },\n        \"ContainsHeader\": {\n          \"type\": \"boolean\"\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"JsonFormatDescriptor\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"FileCompression\": {\n          \"type\": \"string\",\n          \"enum\": [\n            \"NONE\",\n            \"GZIP\"\n          ]\n        },\n        \"Charset\": {\n          \"$ref\": \"#/definitions/Charset\"\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"FileFormatDescriptor\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"CsvFormatDescriptor\": {\n          \"$ref\": \"#/definitions/CsvFormatDescriptor\"\n        },\n        \"JsonFormatDescriptor\": {\n          \"$ref\": \"#/definitions/JsonFormatDescriptor\"\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"S3SourceConfig\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"RoleArn\": {\n          \"$ref\": \"#/definitions/Arn\"\n        },\n        \"TemplatedPathList\": {\n          \"type\": \"array\",\n          \"minItems\": 1,\n          \"maxItems\": 1,\n          \"items\": {\n            \"type\": \"string\",\n            \"maxLength\": 1024,\n            \"pattern\": \"^s3://[a-zA-Z0-9_\\\\-\\\\/ {}=]+$\"\n          }\n        },\n        \"HistoricalDataPathList\": {\n          \"type\": \"array\",\n          \"minItems\": 1,\n          \"maxItems\": 1,\n          \"items\": {\n            \"type\": \"string\",\n            \"maxLength\": 1024,\n            \"pattern\": \"^s3://[a-z0-9].+$\"\n          }\n        },\n        \"FileFormatDescriptor\": {\n          \"$ref\": \"#/definitions/FileFormatDescriptor\"\n        }\n      },\n      \"additionalProperties\": false,\n      \"required\": [\n        \"RoleArn\",\n        \"FileFormatDescriptor\"\n      ]\n    },\n    \"AppFlowConfig\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"RoleArn\": {\n          \"$ref\": \"#/definitions/Arn\"\n        },\n        \"FlowName\": {\n          \"type\": \"string\",\n          \"maxLength\": 256,\n          \"pattern\": \"[a-zA-Z0-9][\\\\w!@#.-]+\"\n        }\n      },\n      \"required\": [\n        \"RoleArn\",\n        \"FlowName\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"CloudwatchConfig\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"RoleArn\": {\n          \"$ref\": \"#/definitions/Arn\"\n        }\n      },\n      \"required\": [\n        \"RoleArn\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"DatabaseHost\": {\n      \"type\": \"string\",\n      \"minLength\": 1,\n      \"maxLength\": 253,\n      \"pattern\": \".*\\\\S.*\"\n    },\n    \"DatabasePort\": {\n      \"type\": \"integer\",\n      \"minimum\": 1,\n      \"maximum\": 65535\n    },\n    \"TableName\": {\n      \"type\": \"string\",\n      \"minLength\": 1,\n      \"maxLength\": 100,\n      \"pattern\": \"^[a-zA-Z][a-zA-Z0-9_]*$\"\n    },\n    \"SubnetIdList\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\",\n        \"maxLength\": 255,\n        \"pattern\": \"[\\\\-0-9a-zA-Z]+\"\n      }\n    },\n    \"SecurityGroupIdList\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\",\n        \"minLength\": 1,\n        \"maxLength\": 255,\n        \"pattern\": \"[-0-9a-zA-Z]+\"\n      }\n    },\n    \"VpcConfiguration\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"SubnetIdList\": {\n          \"$ref\": \"#/definitions/SubnetIdList\"\n        },\n        \"SecurityGroupIdList\": {\n          \"$ref\": \"#/definitions/SecurityGroupIdList\"\n        }\n      },\n      \"required\": [\n        \"SubnetIdList\",\n        \"SecurityGroupIdList\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"SecretManagerArn\": {\n      \"type\": \"string\",\n      \"maxLength\": 256,\n      \"pattern\": \"arn:([a-z\\\\d-]+):.*:.*:secret:AmazonLookoutMetrics-.+\"\n    },\n    \"RDSSourceConfig\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"DBInstanceIdentifier\": {\n          \"type\": \"string\",\n          \"minLength\": 1,\n          \"maxLength\": 63,\n          \"pattern\": \"^[a-zA-Z](?!.*--)(?!.*-$)[0-9a-zA-Z\\\\-]*$\"\n        },\n        \"DatabaseHost\": {\n          \"$ref\": \"#/definitions/DatabaseHost\"\n        },\n        \"DatabasePort\": {\n          \"$ref\": \"#/definitions/DatabasePort\"\n        },\n        \"SecretManagerArn\": {\n          \"$ref\": \"#/definitions/SecretManagerArn\"\n        },\n        \"DatabaseName\": {\n          \"type\": \"string\",\n          \"minLength\": 1,\n          \"maxLength\": 64,\n          \"pattern\": \"[a-zA-Z0-9_]+\"\n        },\n        \"TableName\": {\n          \"$ref\": \"#/definitions/TableName\"\n        },\n        \"RoleArn\": {\n          \"$ref\": \"#/definitions/Arn\"\n        },\n        \"VpcConfiguration\": {\n          \"$ref\": \"#/definitions/VpcConfiguration\"\n        }\n      },\n      \"required\": [\n        \"DBInstanceIdentifier\",\n        \"DatabaseHost\",\n        \"DatabasePort\",\n        \"SecretManagerArn\",\n        \"DatabaseName\",\n        \"TableName\",\n        \"RoleArn\",\n        \"VpcConfiguration\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"RedshiftSourceConfig\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"ClusterIdentifier\": {\n          \"type\": \"string\",\n          \"minLength\": 1,\n          \"maxLength\": 63,\n          \"pattern\": \"^[a-z](?!.*--)(?!.*-$)[0-9a-z\\\\-]*$\"\n        },\n        \"DatabaseHost\": {\n          \"$ref\": \"#/definitions/DatabaseHost\"\n        },\n        \"DatabasePort\": {\n          \"$ref\": \"#/definitions/DatabasePort\"\n        },\n        \"SecretManagerArn\": {\n          \"$ref\": \"#/definitions/SecretManagerArn\"\n        },\n        \"DatabaseName\": {\n          \"type\": \"string\",\n          \"minLength\": 1,\n          \"maxLength\": 100,\n          \"pattern\": \"[a-z0-9]+\"\n        },\n        \"TableName\": {\n          \"$ref\": \"#/definitions/TableName\"\n        },\n        \"RoleArn\": {\n          \"$ref\": \"#/definitions/Arn\"\n        },\n        \"VpcConfiguration\": {\n          \"$ref\": \"#/definitions/VpcConfiguration\"\n        }\n      },\n      \"required\": [\n        \"ClusterIdentifier\",\n        \"DatabaseHost\",\n        \"DatabasePort\",\n        \"SecretManagerArn\",\n        \"DatabaseName\",\n        \"TableName\",\n        \"RoleArn\",\n        \"VpcConfiguration\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"MetricSource\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"S3SourceConfig\": {\n          \"$ref\": \"#/definitions/S3SourceConfig\"\n        },\n        \"RDSSourceConfig\": {\n          \"$ref\": \"#/definitions/RDSSourceConfig\"\n        },\n        \"RedshiftSourceConfig\": {\n          \"$ref\": \"#/definitions/RedshiftSourceConfig\"\n        },\n        \"CloudwatchConfig\": {\n          \"$ref\": \"#/definitions/CloudwatchConfig\"\n        },\n        \"AppFlowConfig\": {\n          \"$ref\": \"#/definitions/AppFlowConfig\"\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"TimestampColumn\": {\n      \"type\": \"object\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"ColumnName\": {\n          \"$ref\": \"#/definitions/ColumnName\"\n        },\n        \"ColumnFormat\": {\n          \"description\": \"A timestamp format for the timestamps in the dataset\",\n          \"type\": \"string\",\n          \"maxLength\": 63,\n          \"pattern\": \".*\\\\S.*\"\n        }\n      }\n    },\n    \"Metric\": {\n      \"type\": \"object\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"MetricName\": {\n          \"$ref\": \"#/definitions/ColumnName\"\n        },\n        \"AggregationFunction\": {\n          \"description\": \"Operator used to aggregate metric values\",\n          \"type\": \"string\",\n          \"enum\": [\n            \"AVG\",\n            \"SUM\"\n          ]\n        },\n        \"Namespace\": {\n          \"type\": \"string\",\n          \"minLength\": 1,\n          \"maxLength\": 255,\n          \"pattern\": \"[^:].*\"\n        }\n      },\n      \"required\": [\n        \"MetricName\",\n        \"AggregationFunction\"\n      ]\n    },\n    \"MetricSet\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"MetricSetName\": {\n          \"description\": \"The name of the MetricSet.\",\n          \"type\": \"string\",\n          \"minLength\": 1,\n          \"maxLength\": 63,\n          \"pattern\": \"^[a-zA-Z0-9][a-zA-Z0-9\\\\-_]*\"\n        },\n        \"MetricSetDescription\": {\n          \"description\": \"A description for the MetricSet.\",\n          \"type\": \"string\",\n          \"maxLength\": 256,\n          \"pattern\": \".*\\\\S.*\"\n        },\n        \"MetricSource\": {\n          \"$ref\": \"#/definitions/MetricSource\"\n        },\n        \"MetricList\": {\n          \"description\": \"Metrics captured by this MetricSet.\",\n          \"type\": \"array\",\n          \"insertionOrder\": false,\n          \"minItems\": 1,\n          \"items\": {\n            \"$ref\": \"#/definitions/Metric\"\n          }\n        },\n        \"Offset\": {\n          \"description\": \"Offset, in seconds, between the frequency interval and the time at which the metrics are available.\",\n          \"type\": \"integer\",\n          \"minimum\": 0,\n          \"maximum\": 432000\n        },\n        \"TimestampColumn\": {\n          \"$ref\": \"#/definitions/TimestampColumn\"\n        },\n        \"DimensionList\": {\n          \"description\": \"Dimensions for this MetricSet.\",\n          \"type\": \"array\",\n          \"insertionOrder\": false,\n          \"minItems\": 0,\n          \"items\": {\n            \"$ref\": \"#/definitions/ColumnName\"\n          }\n        },\n        \"MetricSetFrequency\": {\n          \"description\": \"A frequency period to aggregate the data\",\n          \"type\": \"string\",\n          \"enum\": [\n            \"PT5M\",\n            \"PT10M\",\n            \"PT1H\",\n            \"P1D\"\n          ]\n        },\n        \"Timezone\": {\n          \"type\": \"string\",\n          \"maxLength\": 60,\n          \"pattern\": \".*\\\\S.*\"\n        }\n      },\n      \"required\": [\n        \"MetricSetName\",\n        \"MetricList\",\n        \"MetricSource\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"AnomalyDetectorFrequency\": {\n      \"description\": \"Frequency of anomaly detection\",\n      \"type\": \"string\",\n      \"enum\": [\n        \"PT5M\",\n        \"PT10M\",\n        \"PT1H\",\n        \"P1D\"\n      ]\n    },\n    \"AnomalyDetectorConfig\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"AnomalyDetectorFrequency\": {\n          \"description\": \"Frequency of anomaly detection\",\n          \"$ref\": \"#/definitions/AnomalyDetectorFrequency\"\n        }\n      },\n      \"required\": [\n        \"AnomalyDetectorFrequency\"\n      ],\n      \"additionalProperties\": false\n    }\n  },\n  \"properties\": {\n    \"Arn\": {\n      \"$ref\": \"#/definitions/Arn\"\n    },\n    \"AnomalyDetectorName\": {\n      \"description\": \"Name for the Amazon Lookout for Metrics Anomaly Detector\",\n      \"type\": \"string\",\n      \"minLength\": 1,\n      \"maxLength\": 63,\n      \"pattern\": \"^[a-zA-Z0-9][a-zA-Z0-9\\\\-_]*\"\n    },\n    \"AnomalyDetectorDescription\": {\n      \"description\": \"A description for the AnomalyDetector.\",\n      \"type\": \"string\",\n      \"maxLength\": 256,\n      \"pattern\": \".*\\\\S.*\"\n    },\n    \"AnomalyDetectorConfig\": {\n      \"description\": \"Configuration options for the AnomalyDetector\",\n      \"$ref\": \"#/definitions/AnomalyDetectorConfig\"\n    },\n    \"MetricSetList\": {\n      \"description\": \"List of metric sets for anomaly detection\",\n      \"type\": \"array\",\n      \"minItems\": 1,\n      \"maxItems\": 1,\n      \"items\": {\n        \"$ref\": \"#/definitions/MetricSet\"\n      }\n    },\n    \"KmsKeyArn\": {\n      \"description\": \"KMS key used to encrypt the AnomalyDetector data\",\n      \"type\": \"string\",\n      \"minLength\": 20,\n      \"maxLength\": 2048,\n      \"pattern\": \"arn:aws.*:kms:.*:[0-9]{12}:key/.*\"\n    }\n  },\n  \"additionalProperties\": false,\n  \"required\": [\n    \"AnomalyDetectorConfig\",\n    \"MetricSetList\"\n  ],\n  \"readOnlyProperties\": [\n    \"/properties/Arn\"\n  ],\n  \"createOnlyProperties\": [\n    \"/properties/AnomalyDetectorName\",\n    \"/properties/MetricSource\"\n  ],\n  \"primaryIdentifier\": [\n    \"/properties/Arn\"\n  ],\n  \"handlers\": {\n    \"create\": {\n      \"permissions\": [\n        \"lookoutmetrics:CreateAnomalyDetector\",\n        \"lookoutmetrics:DeleteAnomalyDetector\",\n        \"lookoutmetrics:CreateMetricSet\",\n        \"iam:PassRole\"\n      ],\n      \"timeoutInMinutes\": 15\n    },\n    \"read\": {\n      \"permissions\": [\n        \"lookoutmetrics:DescribeAnomalyDetector\",\n        \"lookoutmetrics:DescribeMetricSet\",\n        \"lookoutmetrics:ListMetricSets\"\n      ],\n      \"timeoutInMinutes\": 15\n    },\n    \"update\": {\n      \"permissions\": [\n        \"lookoutmetrics:UpdateAnomalyDetector\",\n        \"lookoutmetrics:UpdateMetricSet\"\n      ],\n      \"timeoutInMinutes\": 15\n    },\n    \"delete\": {\n      \"permissions\": [\n        \"lookoutmetrics:DescribeAnomalyDetector\",\n        \"lookoutmetrics:DeleteAnomalyDetector\"\n      ],\n      \"timeoutInMinutes\": 15\n    },\n    \"list\": {\n      \"permissions\": [\n        \"lookoutmetrics:ListAnomalyDetectors\"\n      ],\n      \"timeoutInMinutes\": 15\n    }\n  }\n}\n",
    "ProvisioningType": "FULLY_MUTABLE",
    "DeprecatedStatus": "LIVE",
    "Visibility": "PUBLIC",
    "SourceUrl": "https://docs.aws.amazon.com/lookoutmetrics/latest/dev/lookoutmetrics-welcome.html",
    "TimeCreated": "2021-03-18T15:11:59.242000+00:00"
}
