{
    "Arn": "arn:aws:cloudformation:us-east-1::type/resource/AWS-MWAA-Environment",
    "Type": "RESOURCE",
    "TypeName": "AWS::MWAA::Environment",
    "IsDefaultVersion": true,
    "Description": "Resource schema for AWS::MWAA::Environment",
    "Schema": "{\n  \"typeName\": \"AWS::MWAA::Environment\",\n  \"description\": \"Resource schema for AWS::MWAA::Environment\",\n  \"sourceUrl\": \"https://github.com/aws-cloudformation/aws-cloudformation-resource-providers-mwaa.git\",\n  \"definitions\": {\n    \"EnvironmentName\": {\n      \"type\": \"string\",\n      \"description\": \"Customer-defined identifier for the environment, unique per customer region.\",\n      \"minLength\": 1,\n      \"maxLength\": 80,\n      \"pattern\": \"^[a-zA-Z][0-9a-zA-Z\\\\-_]*$\"\n    },\n    \"EnvironmentStatus\": {\n      \"type\": \"string\",\n      \"description\": \"The status of the environment.\",\n      \"enum\": [\n        \"CREATING\",\n        \"CREATE_FAILED\",\n        \"AVAILABLE\",\n        \"UPDATING\",\n        \"DELETING\",\n        \"DELETED\",\n        \"UPDATE_FAILED\",\n        \"UNAVAILABLE\"\n      ]\n    },\n    \"UpdateStatus\": {\n      \"type\": \"string\",\n      \"description\": \"\",\n      \"enum\": [\n        \"SUCCESS\",\n        \"PENDING\",\n        \"FAILED\"\n      ]\n    },\n    \"UpdateError\": {\n      \"type\": \"object\",\n      \"description\": \"The error associated with an update request.\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"ErrorCode\": {\n          \"$ref\": \"#/definitions/ErrorCode\"\n        },\n        \"ErrorMessage\": {\n          \"$ref\": \"#/definitions/ErrorMessage\"\n        }\n      }\n    },\n    \"AirflowArn\": {\n      \"type\": \"string\",\n      \"description\": \"\",\n      \"minLength\": 1,\n      \"maxLength\": 1224,\n      \"pattern\": \"^arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b)(-[a-z]+)?:airflow:[a-z0-9\\\\-]+:\\\\d{12}:environment/\\\\w+\"\n    },\n    \"EnvironmentArn\": {\n      \"type\": \"string\",\n      \"description\": \"ARN for the MWAA environment.\",\n      \"minLength\": 1,\n      \"maxLength\": 1224,\n      \"pattern\": \"^arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b)(-[a-z]+)?:airflow:[a-z0-9\\\\-]+:\\\\d{12}:environment/\\\\w+\"\n    },\n    \"S3BucketArn\": {\n      \"type\": \"string\",\n      \"description\": \"ARN for the AWS S3 bucket to use as the source of DAGs and plugins for the environment.\",\n      \"minLength\": 1,\n      \"maxLength\": 1224,\n      \"pattern\": \"^arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b)(-[a-z]+)?:s3:::[a-z0-9.\\\\-]+$\"\n    },\n    \"CreatedAt\": {\n      \"type\": \"string\",\n      \"description\": \"When the environment resource was created.\"\n    },\n    \"UpdateCreatedAt\": {\n      \"type\": \"string\",\n      \"description\": \"When the update request was created.\"\n    },\n    \"WebserverUrl\": {\n      \"type\": \"string\",\n      \"description\": \"Url endpoint for the environment's Airflow UI.\",\n      \"minLength\": 1,\n      \"maxLength\": 256,\n      \"pattern\": \"^https://.+$\"\n    },\n    \"ExecutionRoleArn\": {\n      \"type\": \"string\",\n      \"description\": \"IAM role to be used by tasks.\",\n      \"maxLength\": 1224,\n      \"pattern\": \"^arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b)(-[a-z]+)?:iam::\\\\d{12}:role/?[a-zA-Z_0-9+=,.@\\\\-_/]+$\"\n    },\n    \"ServiceRoleArn\": {\n      \"type\": \"string\",\n      \"description\": \"IAM role to be used by MWAA to perform AWS API calls on behalf of the customer.\",\n      \"maxLength\": 1224,\n      \"pattern\": \"^arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b)(-[a-z]+)?:iam::\\\\d{12}:role/?[a-zA-Z_0-9+=,.@\\\\-_/]+$\"\n    },\n    \"KmsKey\": {\n      \"type\": \"string\",\n      \"description\": \"The identifier of the AWS Key Management Service (AWS KMS) customer master key (CMK) to use for MWAA data encryption.\\n\\n    You can specify the CMK using any of the following:\\n\\n    Key ID. For example, key/1234abcd-12ab-34cd-56ef-1234567890ab.\\n\\n    Key alias. For example, alias/ExampleAlias.\\n\\n    Key ARN. For example, arn:aws: kms :us-east-1:012345678910:key/abcd1234-a123-456a-a12b-a123b4cd56ef.\\n\\n    Alias ARN. For example, arn:aws: kms :us-east-1:012345678910:alias/ExampleAlias.\\n\\n    AWS authenticates the CMK asynchronously. Therefore, if you specify an ID, alias, or ARN that is not valid, the action can appear to complete, but eventually fails.\",\n      \"maxLength\": 1224,\n      \"pattern\": \"^(((arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b)(-[a-z]+)?:kms:[a-z]{2}-[a-z]+-\\\\d:\\\\d+:)?key\\\\/)?[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}|(arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b):kms:[a-z]{2}-[a-z]+-\\\\d:\\\\d+:)?alias/.+)$\"\n    },\n    \"AirflowVersion\": {\n      \"type\": \"string\",\n      \"description\": \"Version of airflow to deploy to the environment.\",\n      \"maxLength\": 32,\n      \"pattern\": \"^[0-9a-z.]+$\"\n    },\n    \"RelativePath\": {\n      \"type\": \"string\",\n      \"description\": \"Represents an S3 prefix relative to the root of an S3 bucket.\",\n      \"maxLength\": 1024,\n      \"pattern\": \".*\"\n    },\n    \"ConfigKey\": {\n      \"type\": \"string\",\n      \"description\": \"\",\n      \"maxLength\": 64,\n      \"pattern\": \"^[a-z]+([a-z._]*[a-z]+)?$\"\n    },\n    \"ConfigValue\": {\n      \"type\": \"string\",\n      \"description\": \"\",\n      \"maxLength\": 256,\n      \"pattern\": \".*\"\n    },\n    \"SecurityGroupId\": {\n      \"type\": \"string\",\n      \"description\": \"\",\n      \"minLength\": 1,\n      \"maxLength\": 1024,\n      \"pattern\": \"^sg-[a-zA-Z0-9\\\\-._]+$\"\n    },\n    \"SubnetId\": {\n      \"type\": \"string\",\n      \"description\": \"\",\n      \"maxLength\": 1024,\n      \"pattern\": \"^subnet-[a-zA-Z0-9\\\\-._]+$\"\n    },\n    \"CloudWatchLogGroupArn\": {\n      \"type\": \"string\",\n      \"description\": \"\",\n      \"maxLength\": 1224,\n      \"pattern\": \"^arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b)(-[a-z]+)?:logs:[a-z0-9\\\\-]+:\\\\d{12}:log-group:\\\\w+\"\n    },\n    \"LoggingEnabled\": {\n      \"type\": \"boolean\",\n      \"description\": \"\"\n    },\n    \"LoggingLevel\": {\n      \"type\": \"string\",\n      \"description\": \"\",\n      \"enum\": [\n        \"CRITICAL\",\n        \"ERROR\",\n        \"WARNING\",\n        \"INFO\",\n        \"DEBUG\"\n      ]\n    },\n    \"EnvironmentClass\": {\n      \"type\": \"string\",\n      \"description\": \"Templated configuration for airflow processes and backing infrastructure.\",\n      \"minLength\": 1,\n      \"maxLength\": 1024\n    },\n    \"MaxWorkers\": {\n      \"type\": \"integer\",\n      \"description\": \"Maximum worker compute units.\",\n      \"minimum\": 1\n    },\n    \"MinWorkers\": {\n      \"type\": \"integer\",\n      \"description\": \"Minimum worker compute units.\",\n      \"minimum\": 1\n    },\n    \"Schedulers\": {\n      \"type\": \"integer\",\n      \"description\": \"Scheduler compute units.\",\n      \"minimum\": 1\n    },\n    \"NetworkConfiguration\": {\n      \"type\": \"object\",\n      \"description\": \"Configures the network resources of the environment.\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"SubnetIds\": {\n          \"type\": \"array\",\n          \"insertionOrder\": true,\n          \"description\": \"A list of subnets to use for the environment. These must be private subnets, in the same VPC, in two different availability zones.\",\n          \"minItems\": 2,\n          \"maxItems\": 2,\n          \"items\": {\n            \"$ref\": \"#/definitions/SubnetId\"\n          }\n        },\n        \"SecurityGroupIds\": {\n          \"type\": \"array\",\n          \"insertionOrder\": true,\n          \"description\": \"A list of security groups to use for the environment.\",\n          \"minItems\": 1,\n          \"maxItems\": 5,\n          \"items\": {\n            \"$ref\": \"#/definitions/SecurityGroupId\"\n          }\n        }\n      }\n    },\n    \"LoggingConfiguration\": {\n      \"type\": \"object\",\n      \"description\": \"Logging configuration for the environment.\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"DagProcessingLogs\": {\n          \"$ref\": \"#/definitions/ModuleLoggingConfiguration\"\n        },\n        \"SchedulerLogs\": {\n          \"$ref\": \"#/definitions/ModuleLoggingConfiguration\"\n        },\n        \"WebserverLogs\": {\n          \"$ref\": \"#/definitions/ModuleLoggingConfiguration\"\n        },\n        \"WorkerLogs\": {\n          \"$ref\": \"#/definitions/ModuleLoggingConfiguration\"\n        },\n        \"TaskLogs\": {\n          \"$ref\": \"#/definitions/ModuleLoggingConfiguration\"\n        }\n      }\n    },\n    \"LoggingConfigurationInput\": {\n      \"type\": \"object\",\n      \"description\": \"Configures logging for the environment.\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"DagProcessingLogs\": {\n          \"$ref\": \"#/definitions/ModuleLoggingConfigurationInput\"\n        },\n        \"SchedulerLogs\": {\n          \"$ref\": \"#/definitions/ModuleLoggingConfigurationInput\"\n        },\n        \"WebserverLogs\": {\n          \"$ref\": \"#/definitions/ModuleLoggingConfigurationInput\"\n        },\n        \"WorkerLogs\": {\n          \"$ref\": \"#/definitions/ModuleLoggingConfigurationInput\"\n        },\n        \"TaskLogs\": {\n          \"$ref\": \"#/definitions/ModuleLoggingConfigurationInput\"\n        }\n      }\n    },\n    \"ModuleLoggingConfiguration\": {\n      \"type\": \"object\",\n      \"description\": \"Logging configuration for a specific airflow component.\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"Enabled\": {\n          \"$ref\": \"#/definitions/LoggingEnabled\"\n        },\n        \"LogLevel\": {\n          \"$ref\": \"#/definitions/LoggingLevel\"\n        },\n        \"CloudWatchLogGroupArn\": {\n          \"$ref\": \"#/definitions/CloudWatchLogGroupArn\"\n        }\n      }\n    },\n    \"ModuleLoggingConfigurationInput\": {\n      \"type\": \"object\",\n      \"description\": \"Configures airflow component logging for the environment.\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"Enabled\": {\n          \"$ref\": \"#/definitions/LoggingEnabled\"\n        },\n        \"LogLevel\": {\n          \"$ref\": \"#/definitions/LoggingLevel\"\n        }\n      }\n    },\n    \"LastUpdate\": {\n      \"type\": \"object\",\n      \"description\": \"Details about the last update performed on the environment.\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"Status\": {\n          \"$ref\": \"#/definitions/UpdateStatus\"\n        },\n        \"CreatedAt\": {\n          \"$ref\": \"#/definitions/UpdateCreatedAt\"\n        },\n        \"Error\": {\n          \"$ref\": \"#/definitions/UpdateError\"\n        }\n      }\n    },\n    \"ErrorCode\": {\n      \"type\": \"string\",\n      \"description\": \"The error code associated with an error.\"\n    },\n    \"ErrorMessage\": {\n      \"type\": \"string\",\n      \"description\": \"Error message describing a failed operation.\",\n      \"minLength\": 1,\n      \"maxLength\": 1024,\n      \"pattern\": \"^.+$\"\n    },\n    \"S3ObjectVersion\": {\n      \"type\": \"string\",\n      \"description\": \"Represents an version ID for an S3 object.\",\n      \"maxLength\": 1024\n    },\n    \"WeeklyMaintenanceWindowStart\": {\n      \"type\": \"string\",\n      \"description\": \"Start time for the weekly maintenance window.\",\n      \"maxLength\": 9,\n      \"pattern\": \"(MON|TUE|WED|THU|FRI|SAT|SUN):([01]\\\\d|2[0-3]):(00|30)\"\n    },\n    \"WebserverAccessMode\": {\n      \"type\": \"string\",\n      \"description\": \"Choice for mode of webserver access including over public internet or via private VPC endpoint.\",\n      \"enum\": [\n        \"PRIVATE_ONLY\",\n        \"PUBLIC_ONLY\"\n      ]\n    }\n  },\n  \"properties\": {\n    \"Name\": {\n      \"$ref\": \"#/definitions/EnvironmentName\"\n    },\n    \"Arn\": {\n      \"$ref\": \"#/definitions/EnvironmentArn\"\n    },\n    \"WebserverUrl\": {\n      \"$ref\": \"#/definitions/WebserverUrl\"\n    },\n    \"ExecutionRoleArn\": {\n      \"$ref\": \"#/definitions/ExecutionRoleArn\"\n    },\n    \"KmsKey\": {\n      \"$ref\": \"#/definitions/KmsKey\"\n    },\n    \"AirflowVersion\": {\n      \"$ref\": \"#/definitions/AirflowVersion\"\n    },\n    \"SourceBucketArn\": {\n      \"$ref\": \"#/definitions/S3BucketArn\"\n    },\n    \"DagS3Path\": {\n      \"$ref\": \"#/definitions/RelativePath\"\n    },\n    \"PluginsS3Path\": {\n      \"$ref\": \"#/definitions/RelativePath\"\n    },\n    \"PluginsS3ObjectVersion\": {\n      \"$ref\": \"#/definitions/S3ObjectVersion\"\n    },\n    \"RequirementsS3Path\": {\n      \"$ref\": \"#/definitions/RelativePath\"\n    },\n    \"RequirementsS3ObjectVersion\": {\n      \"$ref\": \"#/definitions/S3ObjectVersion\"\n    },\n    \"StartupScriptS3Path\": {\n      \"$ref\": \"#/definitions/RelativePath\"\n    },\n    \"StartupScriptS3ObjectVersion\": {\n      \"$ref\": \"#/definitions/S3ObjectVersion\"\n    },\n    \"AirflowConfigurationOptions\": {\n      \"type\": \"object\",\n      \"description\": \"Key/value pairs representing Airflow configuration variables.\\n    Keys are prefixed by their section:\\n\\n    [core]\\n    dags_folder={AIRFLOW_HOME}/dags\\n\\n    Would be represented as\\n\\n    \\\"core.dags_folder\\\": \\\"{AIRFLOW_HOME}/dags\\\"\"\n    },\n    \"EnvironmentClass\": {\n      \"$ref\": \"#/definitions/EnvironmentClass\"\n    },\n    \"MaxWorkers\": {\n      \"$ref\": \"#/definitions/MaxWorkers\"\n    },\n    \"MinWorkers\": {\n      \"$ref\": \"#/definitions/MinWorkers\"\n    },\n    \"Schedulers\": {\n      \"$ref\": \"#/definitions/Schedulers\"\n    },\n    \"NetworkConfiguration\": {\n      \"$ref\": \"#/definitions/NetworkConfiguration\"\n    },\n    \"LoggingConfiguration\": {\n      \"$ref\": \"#/definitions/LoggingConfiguration\"\n    },\n    \"WeeklyMaintenanceWindowStart\": {\n      \"$ref\": \"#/definitions/WeeklyMaintenanceWindowStart\"\n    },\n    \"Tags\": {\n      \"type\": \"object\",\n      \"description\": \"A map of tags for the environment.\"\n    },\n    \"WebserverAccessMode\": {\n      \"$ref\": \"#/definitions/WebserverAccessMode\"\n    }\n  },\n  \"additionalProperties\": false,\n  \"required\": [\n    \"Name\"\n  ],\n  \"createOnlyProperties\": [\n    \"/properties/Name\",\n    \"/properties/KmsKey\",\n    \"/properties/NetworkConfiguration/SubnetIds\"\n  ],\n  \"readOnlyProperties\": [\n    \"/properties/Arn\",\n    \"/properties/WebserverUrl\",\n    \"/properties/LoggingConfiguration/DagProcessingLogs/CloudWatchLogGroupArn\",\n    \"/properties/LoggingConfiguration/SchedulerLogs/CloudWatchLogGroupArn\",\n    \"/properties/LoggingConfiguration/WebserverLogs/CloudWatchLogGroupArn\",\n    \"/properties/LoggingConfiguration/WorkerLogs/CloudWatchLogGroupArn\",\n    \"/properties/LoggingConfiguration/TaskLogs/CloudWatchLogGroupArn\"\n  ],\n  \"taggable\": true,\n  \"primaryIdentifier\": [\n    \"/properties/Name\"\n  ],\n  \"handlers\": {\n    \"create\": {\n      \"permissions\": [\n        \"airflow:CreateEnvironment\"\n      ],\n      \"timeoutInMinutes\": 180\n    },\n    \"read\": {\n      \"permissions\": [\n        \"airflow:GetEnvironment\"\n      ]\n    },\n    \"update\": {\n      \"permissions\": [\n        \"airflow:UpdateEnvironment\",\n        \"airflow:TagResource\",\n        \"airflow:UntagResource\"\n      ],\n      \"timeoutInMinutes\": 480\n    },\n    \"delete\": {\n      \"permissions\": [\n        \"airflow:DeleteEnvironment\"\n      ]\n    },\n    \"list\": {\n      \"permissions\": [\n        \"airflow:ListEnvironments\"\n      ]\n    }\n  }\n}\n",
    "ProvisioningType": "FULLY_MUTABLE",
    "DeprecatedStatus": "LIVE",
    "Visibility": "PUBLIC",
    "SourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-resource-providers-mwaa.git",
    "TimeCreated": "2020-11-24T04:38:41.769000+00:00"
}
