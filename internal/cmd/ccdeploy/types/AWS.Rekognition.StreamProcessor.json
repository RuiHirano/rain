{
    "Arn": "arn:aws:cloudformation:us-east-1::type/resource/AWS-Rekognition-StreamProcessor",
    "Type": "RESOURCE",
    "TypeName": "AWS::Rekognition::StreamProcessor",
    "IsDefaultVersion": true,
    "Description": "The AWS::Rekognition::StreamProcessor type is used to create an Amazon Rekognition StreamProcessor that you can use to analyze streaming videos.\n\n",
    "Schema": "{\n  \"typeName\": \"AWS::Rekognition::StreamProcessor\",\n  \"description\": \"The AWS::Rekognition::StreamProcessor type is used to create an Amazon Rekognition StreamProcessor that you can use to analyze streaming videos.\\n\\n\",\n  \"sourceUrl\": \"https://github.com/aws-cloudformation/aws-cloudformation-rpdk.git\",\n  \"definitions\": {\n    \"Arn\": {\n      \"description\": \"The ARN of the stream processor\",\n      \"type\": \"string\",\n      \"maxLength\": 2048\n    },\n    \"KinesisVideoStream\": {\n      \"description\": \"The Kinesis Video Stream that streams the source video.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"Arn\": {\n          \"description\": \"ARN of the Kinesis Video Stream that streams the source video.\",\n          \"type\": \"string\",\n          \"maxLength\": 2048,\n          \"pattern\": \"(^arn:([a-z\\\\d-]+):kinesisvideo:([a-z\\\\d-]+):\\\\d{12}:.+$)\"\n        }\n      },\n      \"required\": [\n        \"Arn\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"S3Destination\": {\n      \"description\": \"The S3 location in customer's account where inference output & artifacts are stored, as part of connected home feature.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"BucketName\": {\n          \"description\": \"Name of the S3 bucket.\",\n          \"type\": \"string\",\n          \"maxLength\": 63\n        },\n        \"ObjectKeyPrefix\": {\n          \"description\": \"The object key prefix path where the results will be stored. Default is no prefix path\",\n          \"type\": \"string\",\n          \"maxLength\": 256\n        }\n      },\n      \"required\": [\n        \"BucketName\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"KinesisDataStream\": {\n      \"description\": \"The Amazon Kinesis Data Stream stream to which the Amazon Rekognition stream processor streams the analysis results, as part of face search feature.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"Arn\": {\n          \"description\": \"ARN of the Kinesis Data Stream stream.\",\n          \"type\": \"string\",\n          \"maxLength\": 2048,\n          \"pattern\": \"(^arn:([a-z\\\\d-]+):kinesis:([a-z\\\\d-]+):\\\\d{12}:.+$)\"\n        }\n      },\n      \"required\": [\n        \"Arn\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"Labels\": {\n      \"description\": \"List of labels that need to be detected in the video stream. Current supported values are PERSON, PET, PACKAGE, ALL.\",\n      \"type\": \"array\",\n      \"uniqueItems\": true,\n      \"insertionOrder\": false,\n      \"minItems\": 1,\n      \"items\": {\n        \"type\": \"string\",\n        \"minLength\": 1,\n        \"maxLength\": 128\n      }\n    },\n    \"ConnectedHomeSettings\": {\n      \"description\": \"Connected home settings to use on a streaming video. Note that either ConnectedHomeSettings or FaceSearchSettings should be set. Not both\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"Labels\": {\n          \"$ref\": \"#/definitions/Labels\"\n        },\n        \"MinConfidence\": {\n          \"description\": \"Minimum object class match confidence score that must be met to return a result for a recognized object.\",\n          \"type\": \"number\",\n          \"minimum\": 0,\n          \"maximum\": 100\n        }\n      },\n      \"required\": [\n        \"Labels\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"FaceSearchSettings\": {\n      \"description\": \"Face search settings to use on a streaming video. Note that either FaceSearchSettings or ConnectedHomeSettings should be set. Not both\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"CollectionId\": {\n          \"description\": \"The ID of a collection that contains faces that you want to search for.\",\n          \"type\": \"string\",\n          \"maxLength\": 255,\n          \"pattern\": \"\\\\A[a-zA-Z0-9_\\\\.\\\\-]+$\"\n        },\n        \"FaceMatchThreshold\": {\n          \"description\": \"Minimum face match confidence score percentage that must be met to return a result for a recognized face. The default is 80. 0 is the lowest confidence. 100 is the highest confidence. Values between 0 and 100 are accepted.\",\n          \"type\": \"number\",\n          \"minimum\": 0,\n          \"maximum\": 100\n        }\n      },\n      \"required\": [\n        \"CollectionId\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"NotificationChannel\": {\n      \"description\": \"The ARN of the SNS notification channel where events of interests are published, as part of connected home feature.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"Arn\": {\n          \"description\": \"ARN of the SNS topic.\",\n          \"type\": \"string\",\n          \"maxLength\": 2048\n        }\n      },\n      \"required\": [\n        \"Arn\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"Point\": {\n      \"description\": \"An (X, Y) cartesian coordinate denoting a point on the frame\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"X\": {\n          \"description\": \"The X coordinate of the point.\",\n          \"type\": \"number\"\n        },\n        \"Y\": {\n          \"description\": \"The Y coordinate of the point.\",\n          \"type\": \"number\"\n        }\n      },\n      \"required\": [\n        \"X\",\n        \"Y\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"Polygon\": {\n      \"description\": \"A polygon showing a region of interest. Note that the ordering of the Point entries matter in defining the polygon\",\n      \"type\": \"array\",\n      \"uniqueItems\": true,\n      \"insertionOrder\": true,\n      \"minItems\": 3,\n      \"items\": {\n        \"$ref\": \"#/definitions/Point\"\n      }\n    },\n    \"BoundingBox\": {\n      \"description\": \"A bounding box denoting a region of interest in the frame to be analyzed.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"Height\": {\n          \"type\": \"number\",\n          \"minimum\": 0,\n          \"maximum\": 100\n        },\n        \"Width\": {\n          \"type\": \"number\",\n          \"minimum\": 0,\n          \"maximum\": 100\n        },\n        \"Left\": {\n          \"type\": \"number\",\n          \"minimum\": 0,\n          \"maximum\": 100\n        },\n        \"Top\": {\n          \"type\": \"number\",\n          \"minimum\": 0,\n          \"maximum\": 100\n        }\n      },\n      \"required\": [\n        \"Height\",\n        \"Width\",\n        \"Left\",\n        \"Top\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"DataSharingPreference\": {\n      \"description\": \"Indicates whether Rekognition is allowed to store the video stream data for model-training.\",\n      \"properties\": {\n        \"OptIn\": {\n          \"description\": \"Flag to enable data-sharing\",\n          \"type\": \"boolean\"\n        }\n      },\n      \"required\": [\n        \"OptIn\"\n      ],\n      \"type\": \"object\",\n      \"additionalProperties\": false\n    },\n    \"Tag\": {\n      \"description\": \"A key-value pair to associate with a resource.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"Key\": {\n          \"type\": \"string\",\n          \"description\": \"The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.\",\n          \"minLength\": 1,\n          \"maxLength\": 128,\n          \"pattern\": \"\\\\A(?!aws:)[a-zA-Z0-9+\\\\-=\\\\._\\\\:\\\\/@]+$\"\n        },\n        \"Value\": {\n          \"type\": \"string\",\n          \"description\": \"The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.\",\n          \"minLength\": 0,\n          \"maxLength\": 256,\n          \"pattern\": \"\\\\A[a-zA-Z0-9+\\\\-=\\\\._\\\\:\\\\/@]+$\"\n        }\n      },\n      \"required\": [\n        \"Key\",\n        \"Value\"\n      ],\n      \"additionalProperties\": false\n    }\n  },\n  \"properties\": {\n    \"Arn\": {\n      \"$ref\": \"#/definitions/Arn\"\n    },\n    \"Name\": {\n      \"description\": \"Name of the stream processor. It's an identifier you assign to the stream processor. You can use it to manage the stream processor.\",\n      \"type\": \"string\",\n      \"minLength\": 1,\n      \"maxLength\": 128,\n      \"pattern\": \"[a-zA-Z0-9_.\\\\-]+\"\n    },\n    \"KmsKeyId\": {\n      \"description\": \"The KMS key that is used by Rekognition to encrypt any intermediate customer metadata and store in the customer's S3 bucket.\",\n      \"type\": \"string\"\n    },\n    \"RoleArn\": {\n      \"description\": \"ARN of the IAM role that allows access to the stream processor, and provides Rekognition read permissions for KVS stream and write permissions to S3 bucket and SNS topic.\",\n      \"type\": \"string\",\n      \"maxLength\": 2048,\n      \"pattern\": \"arn:aws(-[\\\\w]+)*:iam::[0-9]{12}:role/.*\"\n    },\n    \"KinesisVideoStream\": {\n      \"$ref\": \"#/definitions/KinesisVideoStream\"\n    },\n    \"FaceSearchSettings\": {\n      \"$ref\": \"#/definitions/FaceSearchSettings\"\n    },\n    \"ConnectedHomeSettings\": {\n      \"$ref\": \"#/definitions/ConnectedHomeSettings\"\n    },\n    \"KinesisDataStream\": {\n      \"$ref\": \"#/definitions/KinesisDataStream\"\n    },\n    \"S3Destination\": {\n      \"$ref\": \"#/definitions/S3Destination\"\n    },\n    \"NotificationChannel\": {\n      \"$ref\": \"#/definitions/NotificationChannel\"\n    },\n    \"DataSharingPreference\": {\n      \"$ref\": \"#/definitions/DataSharingPreference\"\n    },\n    \"PolygonRegionsOfInterest\": {\n      \"description\": \"The PolygonRegionsOfInterest specifies a set of polygon areas of interest in the video frames to analyze, as part of connected home feature. Each polygon is in turn, an ordered list of Point\",\n      \"type\": \"array\",\n      \"uniqueItems\": true,\n      \"insertionOrder\": false,\n      \"minItems\": 0,\n      \"items\": {\n        \"$ref\": \"#/definitions/Polygon\"\n      }\n    },\n    \"BoundingBoxRegionsOfInterest\": {\n      \"description\": \"The BoundingBoxRegionsOfInterest specifies an array of bounding boxes of interest in the video frames to analyze, as part of connected home feature. If an object is partially in a region of interest, Rekognition will tag it as detected if the overlap of the object with the region-of-interest is greater than 20%.\",\n      \"type\": \"array\",\n      \"uniqueItems\": true,\n      \"insertionOrder\": false,\n      \"minItems\": 0,\n      \"items\": {\n        \"$ref\": \"#/definitions/BoundingBox\"\n      }\n    },\n    \"Status\": {\n      \"description\": \"Current status of the stream processor.\",\n      \"type\": \"string\"\n    },\n    \"StatusMessage\": {\n      \"description\": \"Detailed status message about the stream processor.\",\n      \"type\": \"string\"\n    },\n    \"Tags\": {\n      \"description\": \"An array of key-value pairs to apply to this resource.\",\n      \"type\": \"array\",\n      \"uniqueItems\": true,\n      \"insertionOrder\": false,\n      \"minItems\": 0,\n      \"maxItems\": 200,\n      \"items\": {\n        \"$ref\": \"#/definitions/Tag\"\n      }\n    }\n  },\n  \"taggable\": true,\n  \"additionalProperties\": false,\n  \"required\": [\n    \"RoleArn\",\n    \"KinesisVideoStream\"\n  ],\n  \"oneOf\": [\n    {\n      \"required\": [\n        \"ConnectedHomeSettings\",\n        \"S3Destination\",\n        \"NotificationChannel\"\n      ]\n    },\n    {\n      \"required\": [\n        \"FaceSearchSettings\",\n        \"KinesisDataStream\"\n      ]\n    }\n  ],\n  \"readOnlyProperties\": [\n    \"/properties/Arn\",\n    \"/properties/Status\",\n    \"/properties/StatusMessage\"\n  ],\n  \"primaryIdentifier\": [\n    \"/properties/Name\"\n  ],\n  \"createOnlyProperties\": [\n    \"/properties/Name\",\n    \"/properties/KmsKeyId\",\n    \"/properties/RoleArn\",\n    \"/properties/KinesisVideoStream\",\n    \"/properties/ConnectedHomeSettings\",\n    \"/properties/FaceSearchSettings\",\n    \"/properties/KinesisDataStream\",\n    \"/properties/S3Destination\",\n    \"/properties/NotificationChannel\",\n    \"/properties/BoundingBoxRegionsOfInterest\",\n    \"/properties/PolygonRegionsOfInterest\",\n    \"/properties/DataSharingPreference\"\n  ],\n  \"$comment\": \"We explicitly specify the replacement strategy to be delete_then_create because we cannot create a new SP resource with the same name or same KVS input before deleting the old one\",\n  \"replacementStrategy\": \"delete_then_create\",\n  \"handlers\": {\n    \"create\": {\n      \"permissions\": [\n        \"rekognition:CreateStreamProcessor\",\n        \"iam:PassRole\",\n        \"rekognition:DescribeStreamProcessor\",\n        \"rekognition:ListTagsForResource\",\n        \"rekognition:TagResource\"\n      ]\n    },\n    \"read\": {\n      \"permissions\": [\n        \"rekognition:DescribeStreamProcessor\",\n        \"rekognition:ListTagsForResource\"\n      ]\n    },\n    \"update\": {\n      \"permissions\": [\n        \"rekognition:TagResource\",\n        \"rekognition:UntagResource\",\n        \"rekognition:ListTagsForResource\",\n        \"rekognition:DescribeStreamProcessor\"\n      ]\n    },\n    \"delete\": {\n      \"permissions\": [\n        \"rekognition:DeleteStreamProcessor\"\n      ]\n    },\n    \"list\": {\n      \"permissions\": [\n        \"rekognition:ListStreamProcessors\"\n      ]\n    }\n  }\n}\n",
    "ProvisioningType": "FULLY_MUTABLE",
    "DeprecatedStatus": "LIVE",
    "Visibility": "PUBLIC",
    "SourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-rpdk.git",
    "TimeCreated": "2022-03-16T01:45:50.054000+00:00"
}
