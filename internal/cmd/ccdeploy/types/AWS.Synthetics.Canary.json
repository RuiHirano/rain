{
    "Arn": "arn:aws:cloudformation:us-east-1::type/resource/AWS-Synthetics-Canary",
    "Type": "RESOURCE",
    "TypeName": "AWS::Synthetics::Canary",
    "IsDefaultVersion": true,
    "Description": "Resource Type definition for AWS::Synthetics::Canary",
    "Schema": "{\n    \"typeName\": \"AWS::Synthetics::Canary\",\n    \"description\": \"Resource Type definition for AWS::Synthetics::Canary\",\n    \"sourceUrl\": \"https://github.com/aws-cloudformation/aws-cloudformation-resource-providers-synthetics\",\n    \"properties\": {\n        \"Name\": {\n            \"description\": \"Name of the canary.\",\n            \"type\": \"string\",\n            \"pattern\": \"^[0-9a-z_\\\\-]{1,21}$\"\n        },\n        \"Id\": {\n            \"description\": \"Id of the canary\",\n            \"type\": \"string\"\n        },\n        \"State\": {\n            \"description\": \"State of the canary\",\n            \"type\": \"string\"\n        },\n        \"Code\": {\n            \"description\": \"Provide the canary script source\",\n            \"$ref\" : \"#/definitions/Code\"\n        },\n        \"ArtifactS3Location\": {\n            \"description\": \"Provide the s3 bucket output location for test results\",\n            \"type\": \"string\",\n            \"pattern\": \"^(s3|S3)://\"\n        },\n        \"ArtifactConfig\": {\n            \"description\": \"Provide artifact configuration\",\n            \"$ref\" : \"#/definitions/ArtifactConfig\"\n        },\n        \"Schedule\": {\n            \"description\": \"Frequency to run your canaries\",\n            \"$ref\" : \"#/definitions/Schedule\"\n        },\n        \"ExecutionRoleArn\": {\n            \"description\": \"Lambda Execution role used to run your canaries\",\n            \"type\": \"string\"\n        },\n        \"RuntimeVersion\": {\n            \"description\": \"Runtime version of Synthetics Library\",\n            \"type\": \"string\"\n        },\n        \"SuccessRetentionPeriod\": {\n            \"description\": \"Retention period of successful canary runs represented in number of days\",\n            \"type\": \"integer\"\n        },\n        \"FailureRetentionPeriod\": {\n            \"description\": \"Retention period of failed canary runs represented in number of days\",\n            \"type\": \"integer\"\n        },\n        \"Tags\" : {\n            \"type\" : \"array\",\n            \"uniqueItems\" : false,\n            \"items\" : {\n                \"$ref\" : \"#/definitions/Tag\"\n            }\n        },\n        \"VPCConfig\": {\n            \"description\": \"Provide VPC Configuration if enabled.\",\n            \"$ref\" : \"#/definitions/VPCConfig\"\n        },\n        \"RunConfig\": {\n            \"description\": \"Provide canary run configuration\",\n            \"$ref\" : \"#/definitions/RunConfig\"\n        },\n        \"StartCanaryAfterCreation\": {\n            \"description\": \"Runs canary if set to True. Default is False\",\n            \"type\": \"boolean\"\n        },\n        \"VisualReference\": {\n            \"description\": \"Visual reference configuration for visual testing\",\n            \"$ref\": \"#/definitions/VisualReference\"\n        },\n        \"DeleteLambdaResourcesOnCanaryDeletion\": {\n            \"description\": \"Deletes associated lambda resources created by Synthetics if set to True. Default is False\",\n            \"type\": \"boolean\"\n        }\n    },\n    \"definitions\" : {\n        \"Schedule\" : {\n            \"type\" : \"object\",\n            \"additionalProperties\" : false,\n            \"properties\" : {\n                \"Expression\" : {\n                    \"type\" : \"string\"\n                },\n                \"DurationInSeconds\" : {\n                    \"type\" : \"string\"\n                }\n            },\n            \"required\" : [ \"Expression\" ]\n        },\n        \"Code\" : {\n            \"type\" : \"object\",\n            \"additionalProperties\" : false,\n            \"properties\" : {\n                \"S3Bucket\": {\n                    \"type\": \"string\"\n                },\n                \"S3Key\": {\n                    \"type\": \"string\"\n                },\n                \"S3ObjectVersion\": {\n                    \"type\": \"string\"\n                },\n                \"Script\": {\n                    \"type\": \"string\"\n                },\n                \"Handler\": {\n                    \"type\": \"string\"\n                },\n                \"SourceLocationArn\": {\n                    \"type\": \"string\"\n                }\n            },\n            \"required\": [\n                \"Handler\"\n            ],\n            \"oneOf\":[\n                {\n                    \"required\":[\n                        \"S3Bucket\",\n                        \"S3Key\"\n                    ]\n                },\n                {\n                    \"required\":[\n                        \"Script\"\n                    ]\n                }\n            ]\n        },\n        \"Tag\": {\n            \"description\": \"A key-value pair to associate with a resource.\",\n            \"additionalProperties\" : false,\n            \"type\": \"object\",\n            \"properties\": {\n                \"Key\": {\n                    \"type\": \"string\",\n                    \"description\": \"The key name of the tag. You can specify a value that is 1 to 127 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -. \",\n                    \"minLength\": 1,\n                    \"maxLength\": 128\n                },\n                \"Value\": {\n                    \"type\": \"string\",\n                    \"description\": \"The value for the tag. You can specify a value that is 1 to 255 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -. \",\n                    \"minLength\": 0,\n                    \"maxLength\": 256\n                }\n            },\n            \"required\": [\n                \"Value\",\n                \"Key\"\n            ]\n        },\n        \"VPCConfig\" : {\n            \"type\" : \"object\",\n            \"additionalProperties\" : false,\n            \"properties\" : {\n                \"VpcId\" : {\n                    \"type\" : \"string\"\n                },\n                \"SubnetIds\" : {\n                    \"type\" : \"array\",\n                    \"items\" : {\n                        \"type\" : \"string\"\n                    }\n                },\n                \"SecurityGroupIds\" : {\n                    \"type\" : \"array\",\n                    \"items\" : {\n                        \"type\" : \"string\"\n                    }\n                }\n            },\n            \"required\" : [\n                \"SubnetIds\",\n                \"SecurityGroupIds\"\n            ]\n        },\n        \"RunConfig\" : {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"properties\": {\n                \"TimeoutInSeconds\": {\n                    \"description\": \"Provide maximum canary timeout per run in seconds\",\n                    \"type\": \"integer\"\n                },\n                \"MemoryInMB\" : {\n                    \"description\": \"Provide maximum memory available for canary in MB\",\n                    \"type\": \"integer\"\n                },\n                \"ActiveTracing\" : {\n                    \"description\": \"Enable active tracing if set to true\",\n                    \"type\": \"boolean\"\n                },\n                \"EnvironmentVariables\" : {\n                    \"type\" : \"object\",\n                    \"additionalProperties\": false,\n                    \"description\" : \"Environment variable key-value pairs.\",\n                    \"patternProperties\" : {\n                        \"[a-zA-Z][a-zA-Z0-9_]+\" : {\n                            \"type\" : \"string\"\n                        }\n                    }\n                }\n            }\n        },\n        \"VisualReference\" : {\n            \"type\": \"object\",\n            \"additionalProperties\" : false,\n            \"properties\" : {\n                \"BaseCanaryRunId\": {\n                    \"type\": \"string\",\n                    \"description\": \"Canary run id to be used as base reference for visual testing\"\n                },\n                \"BaseScreenshots\": {\n                    \"type\": \"array\",\n                    \"description\": \"List of screenshots used as base reference for visual testing\",\n                    \"items\" : {\n                        \"$ref\": \"#/definitions/BaseScreenshot\"\n                    }\n                }\n            },\n            \"required\" : [\n                \"BaseCanaryRunId\"\n            ]\n        },\n        \"BaseScreenshot\" : {\n            \"type\": \"object\",\n            \"properties\": {\n                \"ScreenshotName\": {\n                    \"type\": \"string\",\n                    \"description\": \"Name of the screenshot to be used as base reference for visual testing\"\n                },\n                \"IgnoreCoordinates\": {\n                    \"type\": \"array\",\n                    \"description\": \"List of coordinates of rectangles to be ignored during visual testing\",\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"description\": \"Coordinates of a rectangle to be ignored during visual testing\"\n                    }\n                }\n            },\n            \"required\" : [\n                \"ScreenshotName\"\n            ]\n        },\n        \"ArtifactConfig\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"properties\": {\n                \"S3Encryption\": {\n                    \"$ref\" : \"#/definitions/S3Encryption\",\n                    \"description\": \"Encryption configuration for uploading artifacts to S3\"\n                }\n            }\n        },\n        \"S3Encryption\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"properties\": {\n                \"EncryptionMode\": {\n                    \"type\": \"string\",\n                    \"description\": \"Encryption mode for encrypting artifacts when uploading to S3. Valid values: SSE_S3 and SSE_KMS.\"\n                },\n                \"KmsKeyArn\": {\n                    \"type\": \"string\",\n                    \"description\": \"KMS key Arn for encrypting artifacts when uploading to S3. You must specify KMS key Arn for SSE_KMS encryption mode only.\"\n                }\n            }\n        }\n    },\n    \"required\": [\n        \"Name\",\n        \"Code\",\n        \"ArtifactS3Location\",\n        \"ExecutionRoleArn\",\n        \"Schedule\",\n        \"RuntimeVersion\"\n    ],\n    \"handlers\": {\n        \"create\": {\n            \"permissions\": [\n                \"synthetics:CreateCanary\",\n                \"synthetics:StartCanary\",\n                \"s3:CreateBucket\",\n                \"s3:GetObject\",\n                \"s3:GetObjectVersion\",\n                \"s3:PutBucketEncryption\",\n                \"s3:PutEncryptionConfiguration\",\n                \"lambda:CreateFunction\",\n                \"lambda:AddPermission\",\n                \"lambda:PublishVersion\",\n                \"lambda:UpdateFunctionConfiguration\",\n                \"lambda:GetFunctionConfiguration\",\n                \"lambda:GetLayerVersionByArn\",\n                \"lambda:GetLayerVersion\",\n                \"lambda:PublishLayerVersion\",\n                \"ec2:DescribeVpcs\",\n                \"ec2:DescribeSubnets\",\n                \"ec2:DescribeSecurityGroups\",\n                \"iam:PassRole\"\n            ]\n        },\n        \"update\": {\n            \"permissions\": [\n                \"synthetics:UpdateCanary\",\n                \"synthetics:StartCanary\",\n                \"synthetics:StopCanary\",\n                \"synthetics:TagResource\",\n                \"synthetics:UntagResource\"\n            ]\n        },\n        \"read\": {\n            \"permissions\": [\n                \"synthetics:GetCanary\",\n                \"synthetics:DescribeCanaries\",\n                \"synthetics:ListTagsForResource\",\n                \"iam:ListRoles\",\n                \"s3:ListAllMyBuckets\",\n                \"s3:GetBucketLocation\"\n            ]\n        },\n        \"delete\": {\n            \"permissions\": [\n                \"synthetics:DeleteCanary\",\n                \"synthetics:GetCanary\"\n            ]\n        },\n        \"list\": {\n            \"permissions\": [\n                \"synthetics:DescribeCanaries\"\n            ]\n        }\n    },\n    \"additionalProperties\": false,\n    \"createOnlyProperties\": [\n        \"/properties/Name\"\n    ],\n    \"primaryIdentifier\": [\n        \"/properties/Name\"\n    ],\n    \"readOnlyProperties\": [\n        \"/properties/Id\",\n        \"/properties/State\",\n        \"/properties/Code/SourceLocationArn\"\n    ],\n    \"writeOnlyProperties\": [\n        \"/properties/Code/S3Bucket\",\n        \"/properties/Code/S3Key\",\n        \"/properties/Code/S3ObjectVersion\",\n        \"/properties/Code/Script\",\n        \"/properties/DeleteLambdaResourcesOnCanaryDeletion\",\n        \"/properties/StartCanaryAfterCreation\",\n        \"/properties/RunConfig/EnvironmentVariables\",\n        \"/properties/VisualReference\"\n    ],\n    \"deprecatedProperties\": [\n        \"/properties/DeleteLambdaResourcesOnCanaryDeletion\"\n    ]\n}\n",
    "ProvisioningType": "FULLY_MUTABLE",
    "DeprecatedStatus": "LIVE",
    "Visibility": "PUBLIC",
    "SourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-resource-providers-synthetics",
    "TimeCreated": "2020-04-17T00:52:50.070000+00:00"
}
