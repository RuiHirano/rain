/// AWS::AppMesh::Route
///
/// Generated by rain build --pkl-class AWS::AppMesh::Route
module aws.appmesh.route

import "../../cloudformation.pkl"

/// 
open class RouteHttpRouteMatch {
    Headers: (Listing<RouteHttpRouteHeader>)?
    Port: (Int|Mapping)?
    Prefix: (String|Mapping)?
    Method: (String|Mapping)?
    QueryParameters: (Listing<RouteQueryParameter>)?
    Path: (RouteHttpPathMatch)?
    Scheme: (String|Mapping)?
}

/// 
open class RouteMatchRange {
    Start: Int|Mapping
    End: Int|Mapping
}

/// 
open class RouteGrpcRouteMatch {
    Metadata: (Listing<RouteGrpcRouteMetadata>)?
    MethodName: (String|Mapping)?
    ServiceName: (String|Mapping)?
    Port: (Int|Mapping)?
}

/// 
open class RouteGrpcRouteMetadata {
    Invert: (Boolean|Mapping)?
    Name: String|Mapping
    Match: (RouteGrpcRouteMetadataMatchMethod)?
}

/// 
open class RouteHttpRoute {
    Action: RouteHttpRouteAction
    RetryPolicy: (RouteHttpRetryPolicy)?
    Timeout: (RouteHttpTimeout)?
    Match: RouteHttpRouteMatch
}

/// 
open class RouteHttpRouteAction {
    WeightedTargets: Listing<RouteWeightedTarget>
}

/// 
open class RouteHttpRouteHeader {
    Match: (RouteHeaderMatchMethod)?
    Invert: (Boolean|Mapping)?
    Name: String|Mapping
}

/// 
open class RouteRouteSpec {
    GrpcRoute: (RouteGrpcRoute)?
    TcpRoute: (RouteTcpRoute)?
    Priority: (Int|Mapping)?
    HttpRoute: (RouteHttpRoute)?
    Http2Route: (RouteHttpRoute)?
}

/// 
open class RouteTcpRoute {
    Action: RouteTcpRouteAction
    Timeout: (RouteTcpTimeout)?
    Match: (RouteTcpRouteMatch)?
}

/// 
open class RouteTcpTimeout {
    Idle: (RouteDuration)?
}

/// 
open class RouteGrpcRoute {
    Action: RouteGrpcRouteAction
    RetryPolicy: (RouteGrpcRetryPolicy)?
    Timeout: (RouteGrpcTimeout)?
    Match: RouteGrpcRouteMatch
}

/// 
open class RouteGrpcRouteAction {
    WeightedTargets: Listing<RouteWeightedTarget>
}

/// 
open class RouteQueryParameter {
    Match: (RouteHttpQueryParameterMatch)?
    Name: String|Mapping
}

/// 
open class RouteDuration {
    Value: Int|Mapping
    Unit: String|Mapping
}

/// 
open class RouteGrpcRouteMetadataMatchMethod {
    Suffix: (String|Mapping)?
    Exact: (String|Mapping)?
    Prefix: (String|Mapping)?
    Regex: (String|Mapping)?
    Range: (RouteMatchRange)?
}

/// 
open class RouteHttpPathMatch {
    Exact: (String|Mapping)?
    Regex: (String|Mapping)?
}

/// 
open class RouteHttpQueryParameterMatch {
    Exact: (String|Mapping)?
}

/// 
open class RouteHttpRetryPolicy {
    HttpRetryEvents: (Listing<String|Mapping>)?
    MaxRetries: Int|Mapping
    TcpRetryEvents: (Listing<String|Mapping>)?
    PerRetryTimeout: RouteDuration
}

/// 
open class RouteTag {
    Value: String|Mapping
    Key: String|Mapping
}

/// 
open class RouteGrpcRetryPolicy {
    HttpRetryEvents: (Listing<String|Mapping>)?
    MaxRetries: Int|Mapping
    TcpRetryEvents: (Listing<String|Mapping>)?
    PerRetryTimeout: RouteDuration
    GrpcRetryEvents: (Listing<String|Mapping>)?
}

/// 
open class RouteHeaderMatchMethod {
    Suffix: (String|Mapping)?
    Exact: (String|Mapping)?
    Prefix: (String|Mapping)?
    Regex: (String|Mapping)?
    Range: (RouteMatchRange)?
}

/// 
open class RouteTcpRouteAction {
    WeightedTargets: Listing<RouteWeightedTarget>
}

/// 
open class RouteTcpRouteMatch {
    Port: (Int|Mapping)?
}

/// 
open class RouteWeightedTarget {
    VirtualNode: String|Mapping
    Weight: Int|Mapping
    Port: (Int|Mapping)?
}

/// 
open class RouteGrpcTimeout {
    PerRequest: (RouteDuration)?
    Idle: (RouteDuration)?
}

/// 
open class RouteHttpTimeout {
    PerRequest: (RouteDuration)?
    Idle: (RouteDuration)?
}

/// Resource Type definition for AWS::AppMesh::Route
open class Route extends cloudformation.Resource {

    Type = "AWS::AppMesh::Route"


    /// 
    hidden MeshName: String|Mapping

    /// 
    hidden MeshOwner: (String|Mapping)?

    /// 
    hidden RouteName: (String|Mapping)?

    /// 
    hidden Spec: RouteRouteSpec

    /// 
    hidden Tags: (Listing<RouteTag>)?

    /// 
    hidden VirtualRouterName: String|Mapping

    Properties {
        ["MeshName"] = if (MeshName == null) null else MeshName
        ["MeshOwner"] = if (MeshOwner == null) null else MeshOwner
        ["RouteName"] = if (RouteName == null) null else RouteName
        ["Spec"] = if (Spec == null) null else Spec
        ["Tags"] = if (Tags == null) null else Tags
        ["VirtualRouterName"] = if (VirtualRouterName == null) null else VirtualRouterName
    }

}
