/// AWS::AppMesh::VirtualNode
///
/// Generated by rain build --pkl-class AWS::AppMesh::VirtualNode
module aws.appmesh.virtualnode

import "../../cloudformation.pkl"

/// 
open class VirtualNodeTcpTimeout {
    Idle: (VirtualNodeDuration)?
}

/// 
open class VirtualNodeTlsValidationContextFileTrust {
    CertificateChain: String|Mapping
}

/// 
open class VirtualNodeVirtualNodeSpec {
    Logging: (VirtualNodeLogging)?
    Backends: (Listing<VirtualNodeBackend>)?
    Listeners: (Listing<VirtualNodeListener>)?
    BackendDefaults: (VirtualNodeBackendDefaults)?
    ServiceDiscovery: (VirtualNodeServiceDiscovery)?
}

/// 
open class VirtualNodeAccessLog {
    File: (VirtualNodeFileAccessLog)?
}

/// 
open class VirtualNodeAwsCloudMapServiceDiscovery {
    Attributes: (Listing<VirtualNodeAwsCloudMapInstanceAttribute>)?
    NamespaceName: String|Mapping
    ServiceName: String|Mapping
    IpPreference: (String|Mapping)?
}

/// 
open class VirtualNodeDuration {
    Value: Int|Mapping
    Unit: String|Mapping
}

/// 
open class VirtualNodeGrpcTimeout {
    PerRequest: (VirtualNodeDuration)?
    Idle: (VirtualNodeDuration)?
}

/// 
open class VirtualNodeSubjectAlternativeNames {
    Match: VirtualNodeSubjectAlternativeNameMatchers
}

/// 
open class VirtualNodeVirtualNodeTcpConnectionPool {
    MaxConnections: Int|Mapping
}

/// 
open class VirtualNodeFileAccessLog {
    Path: String|Mapping
    Format: (VirtualNodeLoggingFormat)?
}

/// 
open class VirtualNodeHealthCheck {
    UnhealthyThreshold: Int|Mapping
    Port: (Int|Mapping)?
    HealthyThreshold: Int|Mapping
    TimeoutMillis: Int|Mapping
    Protocol: String|Mapping
    IntervalMillis: Int|Mapping
    Path: (String|Mapping)?
}

/// 
open class VirtualNodeOutlierDetection {
    MaxEjectionPercent: Int|Mapping
    BaseEjectionDuration: VirtualNodeDuration
    MaxServerErrors: Int|Mapping
    Interval: VirtualNodeDuration
}

/// 
open class VirtualNodeClientPolicyTls {
    Validation: VirtualNodeTlsValidationContext
    Ports: (Listing<Int|Mapping>)?
    Enforce: (Boolean|Mapping)?
    Certificate: (VirtualNodeClientTlsCertificate)?
}

/// 
open class VirtualNodeDnsServiceDiscovery {
    Hostname: String|Mapping
    IpPreference: (String|Mapping)?
    ResponseType: (String|Mapping)?
}

/// 
open class VirtualNodeListener {
    OutlierDetection: (VirtualNodeOutlierDetection)?
    ConnectionPool: (VirtualNodeVirtualNodeConnectionPool)?
    Timeout: (VirtualNodeListenerTimeout)?
    HealthCheck: (VirtualNodeHealthCheck)?
    TLS: (VirtualNodeListenerTls)?
    PortMapping: VirtualNodePortMapping
}

/// 
open class VirtualNodeListenerTlsValidationContextTrust {
    File: (VirtualNodeTlsValidationContextFileTrust)?
    SDS: (VirtualNodeTlsValidationContextSdsTrust)?
}

/// 
open class VirtualNodeVirtualNodeConnectionPool {
    HTTP2: (VirtualNodeVirtualNodeHttp2ConnectionPool)?
    GRPC: (VirtualNodeVirtualNodeGrpcConnectionPool)?
    TCP: (VirtualNodeVirtualNodeTcpConnectionPool)?
    HTTP: (VirtualNodeVirtualNodeHttpConnectionPool)?
}

/// 
open class VirtualNodeVirtualNodeHttpConnectionPool {
    MaxConnections: Int|Mapping
    MaxPendingRequests: (Int|Mapping)?
}

/// 
open class VirtualNodeJsonFormatRef {
    Value: String|Mapping
    Key: String|Mapping
}

/// 
open class VirtualNodeLogging {
    AccessLog: (VirtualNodeAccessLog)?
}

/// 
open class VirtualNodeLoggingFormat {
    Text: (String|Mapping)?
    Json: (Listing<VirtualNodeJsonFormatRef>)?
}

/// 
open class VirtualNodeServiceDiscovery {
    DNS: (VirtualNodeDnsServiceDiscovery)?
    AWSCloudMap: (VirtualNodeAwsCloudMapServiceDiscovery)?
}

/// 
open class VirtualNodeTlsValidationContextTrust {
    File: (VirtualNodeTlsValidationContextFileTrust)?
    SDS: (VirtualNodeTlsValidationContextSdsTrust)?
    ACM: (VirtualNodeTlsValidationContextAcmTrust)?
}

/// 
open class VirtualNodeListenerTlsCertificate {
    SDS: (VirtualNodeListenerTlsSdsCertificate)?
    ACM: (VirtualNodeListenerTlsAcmCertificate)?
    File: (VirtualNodeListenerTlsFileCertificate)?
}

/// 
open class VirtualNodeVirtualServiceBackend {
    VirtualServiceName: String|Mapping
    ClientPolicy: (VirtualNodeClientPolicy)?
}

/// 
open class VirtualNodeAwsCloudMapInstanceAttribute {
    Value: String|Mapping
    Key: String|Mapping
}

/// 
open class VirtualNodeBackendDefaults {
    ClientPolicy: (VirtualNodeClientPolicy)?
}

/// 
open class VirtualNodeClientPolicy {
    TLS: (VirtualNodeClientPolicyTls)?
}

/// 
open class VirtualNodeClientTlsCertificate {
    File: (VirtualNodeListenerTlsFileCertificate)?
    SDS: (VirtualNodeListenerTlsSdsCertificate)?
}

/// 
open class VirtualNodeListenerTlsAcmCertificate {
    CertificateArn: String|Mapping
}

/// 
open class VirtualNodeListenerTimeout {
    TCP: (VirtualNodeTcpTimeout)?
    HTTP: (VirtualNodeHttpTimeout)?
    HTTP2: (VirtualNodeHttpTimeout)?
    GRPC: (VirtualNodeGrpcTimeout)?
}

/// 
open class VirtualNodeListenerTlsSdsCertificate {
    SecretName: String|Mapping
}

/// 
open class VirtualNodeTlsValidationContext {
    SubjectAlternativeNames: (VirtualNodeSubjectAlternativeNames)?
    Trust: VirtualNodeTlsValidationContextTrust
}

/// 
open class VirtualNodeTlsValidationContextAcmTrust {
    CertificateAuthorityArns: Listing<String|Mapping>
}

/// 
open class VirtualNodeVirtualNodeHttp2ConnectionPool {
    MaxRequests: Int|Mapping
}

/// 
open class VirtualNodeHttpTimeout {
    PerRequest: (VirtualNodeDuration)?
    Idle: (VirtualNodeDuration)?
}

/// 
open class VirtualNodeListenerTls {
    Validation: (VirtualNodeListenerTlsValidationContext)?
    Mode: String|Mapping
    Certificate: VirtualNodeListenerTlsCertificate
}

/// 
open class VirtualNodePortMapping {
    Protocol: String|Mapping
    Port: Int|Mapping
}

/// 
open class VirtualNodeTlsValidationContextSdsTrust {
    SecretName: String|Mapping
}

/// 
open class VirtualNodeVirtualNodeGrpcConnectionPool {
    MaxRequests: Int|Mapping
}

/// 
open class VirtualNodeBackend {
    VirtualService: (VirtualNodeVirtualServiceBackend)?
}

/// 
open class VirtualNodeListenerTlsFileCertificate {
    CertificateChain: String|Mapping
    PrivateKey: String|Mapping
}

/// 
open class VirtualNodeListenerTlsValidationContext {
    Trust: VirtualNodeListenerTlsValidationContextTrust
    SubjectAlternativeNames: (VirtualNodeSubjectAlternativeNames)?
}

/// 
open class VirtualNodeSubjectAlternativeNameMatchers {
    Exact: (Listing<String|Mapping>)?
}

/// 
open class VirtualNodeTag {
    Value: String|Mapping
    Key: String|Mapping
}

/// Resource Type definition for AWS::AppMesh::VirtualNode
open class VirtualNode extends cloudformation.Resource {

    Type = "AWS::AppMesh::VirtualNode"


    /// 
    hidden MeshName: String|Mapping

    /// 
    hidden MeshOwner: (String|Mapping)?

    /// 
    hidden Spec: VirtualNodeVirtualNodeSpec

    /// 
    hidden Tags: (Listing<VirtualNodeTag>)?

    /// 
    hidden VirtualNodeName: (String|Mapping)?

    Properties {
        ["MeshName"] = if (MeshName == null) null else MeshName
        ["MeshOwner"] = if (MeshOwner == null) null else MeshOwner
        ["Spec"] = if (Spec == null) null else Spec
        ["Tags"] = if (Tags == null) null else Tags
        ["VirtualNodeName"] = if (VirtualNodeName == null) null else VirtualNodeName
    }

}
