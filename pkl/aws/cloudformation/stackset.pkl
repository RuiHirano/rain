/// AWS::CloudFormation::StackSet
///
/// Generated by rain build --pkl-class AWS::CloudFormation::StackSet
module aws.cloudformation.stackset

import "../../cloudformation.pkl"

/// 
open class Capability {
}

/// The user-specified preferences for how AWS CloudFormation performs a stack set operation.
open class OperationPreferences {
    MaxConcurrentCount: (Int|Mapping)?
    MaxConcurrentPercentage: (Int|Mapping)?
    RegionOrder: (Listing<Region>)?
    RegionConcurrencyType: (RegionConcurrencyType)?
    FailureToleranceCount: (Int|Mapping)?
    FailureTolerancePercentage: (Int|Mapping)?
}

typealias DeploymentTargetsAccountFilterType = "NONE"|"UNION"|"INTERSECTION"|"DIFFERENCE"

///  The AWS OrganizationalUnitIds or Accounts for which to create stack instances in the specified Regions.
open class DeploymentTargets {
    AccountFilterType: (DeploymentTargetsAccountFilterType|Mapping)?
    Accounts: (Listing<Account>)?
    AccountsUrl: (String(matches(Regex(#"(s3://|http(s?)://).+"#)))|Mapping)?
    OrganizationalUnitIds: (Listing<OrganizationalUnitId>)?
}

/// 
open class OrganizationalUnitId {
}

/// 
open class AutoDeployment {
    Enabled: (Boolean|Mapping)?
    RetainStacksOnAccountRemoval: (Boolean|Mapping)?
}

/// AWS account that you want to create stack instances in the specified Region(s) for.
open class Account {
}

/// 
open class Region {
}

/// The concurrency type of deploying StackSets operations in regions, could be in parallel or one region at a time
open class RegionConcurrencyType {
}

/// When true, StackSets performs non-conflicting operations concurrently and queues conflicting operations. After conflicting operations finish, StackSets starts queued operations in request order.
open class Active {
}

/// 
open class Parameter {
    ParameterKey: String|Mapping
    ParameterValue: String|Mapping
}

/// Stack instances in some specific accounts and Regions.
open class StackInstances {
    DeploymentTargets: DeploymentTargets
    Regions: Listing<Region>
    ParameterOverrides: (Listing<Parameter>)?
}

/// Tag type enables you to specify a key-value pair that can be used to store information about an AWS CloudFormation StackSet.
open class Tag {
    Key: String(matches(Regex(#"^(?!aws:.*)[a-zA-Z0-9\s\:\_\.\/\=\+\-]+$"#)))|Mapping
    Value: String|Mapping
}

/// StackSet as a resource provides one-click experience for provisioning a StackSet and StackInstances
open class StackSet extends cloudformation.Resource {

    Type = "AWS::CloudFormation::StackSet"


    /// The input parameters for the stack set template.
    hidden Parameters: (Listing<Parameter>)?

    /// Location of file containing the template body. The URL must point to a template (max size: 460,800 bytes) that is located in an Amazon S3 bucket.
    hidden TemplateURL: (String|Mapping)?

    /// In some cases, you must explicitly acknowledge that your stack set template contains certain capabilities in order for AWS CloudFormation to create the stack set and related stack instances.
    hidden Capabilities: (Listing<Capability>)?

    /// 
    hidden OperationPreferences: (OperationPreferences)?

    /// Describes whether StackSets performs non-conflicting operations concurrently and queues conflicting operations.
    hidden ManagedExecution: (Dynamic)?

    /// The Amazon Resource Number (ARN) of the IAM role to use to create this stack set. Specify an IAM role only if you are using customized administrator roles to control which users or groups can manage specific stack sets within the same administrator account.
    hidden AdministrationRoleARN: (String|Mapping)?

    /// Describes how the IAM roles required for stack set operations are created. By default, SELF-MANAGED is specified.
    hidden PermissionModel: StackSetPermissionModel|Mapping

    /// The key-value pairs to associate with this stack set and the stacks created from it. AWS CloudFormation also propagates these tags to supported resources that are created in the stacks. A maximum number of 50 tags can be specified.
    hidden Tags: (Listing<Tag>)?

    /// The name to associate with the stack set. The name must be unique in the Region where you create your stack set.
    hidden StackSetName: String(matches(Regex(#"^[a-zA-Z][a-zA-Z0-9\-]{0,127}$"#)))|Mapping

    /// Describes whether StackSets automatically deploys to AWS Organizations accounts that are added to the target organization or organizational unit (OU). Specify only if PermissionModel is SERVICE_MANAGED.
    hidden AutoDeployment: (AutoDeployment)?

    /// A group of stack instances with parameters in some specific accounts and regions.
    hidden StackInstancesGroup: (Listing<StackInstances>)?

    /// The structure that contains the template body, with a minimum length of 1 byte and a maximum length of 51,200 bytes.
    hidden TemplateBody: (String|Mapping)?

    /// Specifies the AWS account that you are acting from. By default, SELF is specified. For self-managed permissions, specify SELF; for service-managed permissions, if you are signed in to the organization's management account, specify SELF. If you are signed in to a delegated administrator account, specify DELEGATED_ADMIN.
    hidden CallAs: (StackSetCallAs|Mapping)?

    /// A description of the stack set. You can use the description to identify the stack set's purpose or other important information.
    hidden Description: (String|Mapping)?

    /// The name of the IAM execution role to use to create the stack set. If you do not specify an execution role, AWS CloudFormation uses the AWSCloudFormationStackSetExecutionRole role for the stack set operation.
    hidden ExecutionRoleName: (String|Mapping)?

    Properties {
        ["Parameters"] = if (Parameters == null) null else Parameters
        ["TemplateURL"] = if (TemplateURL == null) null else TemplateURL
        ["Capabilities"] = if (Capabilities == null) null else Capabilities
        ["OperationPreferences"] = if (OperationPreferences == null) null else OperationPreferences
        ["ManagedExecution"] = if (ManagedExecution == null) null else ManagedExecution
        ["AdministrationRoleARN"] = if (AdministrationRoleARN == null) null else AdministrationRoleARN
        ["PermissionModel"] = if (PermissionModel == null) null else PermissionModel
        ["Tags"] = if (Tags == null) null else Tags
        ["StackSetName"] = if (StackSetName == null) null else StackSetName
        ["AutoDeployment"] = if (AutoDeployment == null) null else AutoDeployment
        ["StackInstancesGroup"] = if (StackInstancesGroup == null) null else StackInstancesGroup
        ["TemplateBody"] = if (TemplateBody == null) null else TemplateBody
        ["CallAs"] = if (CallAs == null) null else CallAs
        ["Description"] = if (Description == null) null else Description
        ["ExecutionRoleName"] = if (ExecutionRoleName == null) null else ExecutionRoleName
    }

}


typealias StackSetPermissionModel = "SERVICE_MANAGED"|"SELF_MANAGED"

typealias StackSetCallAs = "SELF"|"DELEGATED_ADMIN"
