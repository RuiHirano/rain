/// AWS::DataBrew::Job
///
/// Generated by rain build --pkl-class AWS::DataBrew::Job
module aws.databrew.job

import "../../cloudformation.pkl"

/// 
open class EntityDetectorConfiguration {
    EntityTypes: Listing<String|Mapping>
    AllowedStatistics: (AllowedStatistics)?
}

/// 
open class AllowedStatistics {
    Statistics: Listing<Statistic>
}

/// 
open class S3TableOutputOptions {
    Location: S3Location
}

typealias OutputCompressionFormat = "GZIP"|"LZ4"|"SNAPPY"|"BZIP2"|"DEFLATE"|"LZO"|"BROTLI"|"ZSTD"|"ZLIB"

typealias OutputFormat = "CSV"|"JSON"|"PARQUET"|"GLUEPARQUET"|"AVRO"|"ORC"|"XML"|"TABLEAUHYPER"

/// 
open class Output {
    MaxOutputFiles: (Int|Mapping)?
    CompressionFormat: (OutputCompressionFormat|Mapping)?
    Format: (OutputFormat|Mapping)?
    FormatOptions: (OutputFormatOptions)?
    PartitionColumns: (Listing<String|Mapping>)?
    Location: S3Location
    Overwrite: (Boolean|Mapping)?
}

/// 
open class Recipe {
    Name: String|Mapping
    Version: (String|Mapping)?
}

/// S3 Output location
open class S3Location {
    Key: (String|Mapping)?
    BucketOwner: (String|Mapping)?
    Bucket: String|Mapping
}

/// Output location
open class OutputLocation {
    Bucket: String|Mapping
    Key: (String|Mapping)?
    BucketOwner: (String|Mapping)?
}

/// 
open class ValidationMode {
}

/// Format options for job Output
open class OutputFormatOptions {
    Csv: (CsvOutputOptions)?
}

/// Job Sample
open class JobSample {
    Mode: (SampleMode)?
    Size: (JobSize)?
}

/// 
open class ProfileConfiguration {
    DatasetStatisticsConfiguration: (StatisticsConfiguration)?
    ProfileColumns: (Listing<ColumnSelector>)?
    ColumnStatisticsConfigurations: (Listing<ColumnStatisticsConfiguration>)?
    EntityDetectorConfiguration: (EntityDetectorConfiguration)?
}

/// Output Csv options
open class CsvOutputOptions {
    Delimiter: (String|Mapping)?
}

/// 
open class ColumnStatisticsConfiguration {
    Selectors: (Listing<ColumnSelector>)?
    Statistics: StatisticsConfiguration
}

/// 
open class Statistic {
}

/// 
open class DataCatalogOutput {
    Overwrite: (Boolean|Mapping)?
    CatalogId: (String|Mapping)?
    DatabaseName: String|Mapping
    TableName: String|Mapping
    S3Options: (S3TableOutputOptions)?
    DatabaseOptions: (DatabaseTableOutputOptions)?
}

/// Sample configuration mode for profile jobs.
open class SampleMode {
}

/// 
open class StatisticsConfiguration {
    IncludedStatistics: (Listing<Statistic>)?
    Overrides: (Listing<StatisticOverride>)?
}

/// 
open class StatisticOverride {
    Statistic: Statistic
    Parameters: ParameterMap
}

/// Configuration to attach Rulesets to the job
open class ValidationConfiguration {
    RulesetArn: String|Mapping
    ValidationMode: (ValidationMode)?
}

typealias DatabaseOutputDatabaseOutputMode = "NEW_TABLE"

/// 
open class DatabaseOutput {
    GlueConnectionName: String|Mapping
    DatabaseOutputMode: (DatabaseOutputDatabaseOutputMode|Mapping)?
    DatabaseOptions: DatabaseTableOutputOptions
}

/// A key-value pair to associate with a resource.
open class Tag {
    Key: String|Mapping
    Value: String|Mapping
}

/// 
open class ParameterMap {
}

/// Sample configuration size for profile jobs.
open class JobSize {
}

/// 
open class ColumnSelector {
    Regex: (String|Mapping)?
    Name: (String|Mapping)?
}

/// 
open class DatabaseTableOutputOptions {
    TempDirectory: (S3Location)?
    TableName: String|Mapping
}

/// Resource schema for AWS::DataBrew::Job.
open class Job extends cloudformation.Resource {

    Type = "AWS::DataBrew::Job"


    /// Log subscription
    hidden LogSubscription: (JobLogSubscription|Mapping)?

    /// Max capacity
    hidden MaxCapacity: (Int|Mapping)?

    /// 
    hidden Outputs: (Listing<Output>)?

    /// 
    hidden DatabaseOutputs: (Listing<DatabaseOutput>)?

    /// Timeout
    hidden Timeout: (Int|Mapping)?

    /// Encryption Key Arn
    hidden EncryptionKeyArn: (String|Mapping)?

    /// Encryption mode
    hidden EncryptionMode: (JobEncryptionMode|Mapping)?

    /// Job name
    hidden Name: String|Mapping

    /// Max retries
    hidden MaxRetries: (Int|Mapping)?

    /// Output location
    hidden OutputLocation: (OutputLocation)?

    /// Role arn
    hidden RoleArn: String|Mapping

    /// 
    hidden DataCatalogOutputs: (Listing<DataCatalogOutput>)?

    /// 
    hidden Recipe: (Recipe)?

    /// 
    hidden Tags: (Listing<Tag>)?

    /// Data quality rules configuration
    hidden ValidationConfigurations: (Listing<ValidationConfiguration>)?

    /// Dataset name
    hidden DatasetName: (String|Mapping)?

    /// Job type
    hidden TypeProperty: JobType|Mapping

    /// Project name
    hidden ProjectName: (String|Mapping)?

    /// Job Sample
    hidden JobSample: (JobSample)?

    /// Profile Job configuration
    hidden ProfileConfiguration: (ProfileConfiguration)?

    Properties {
        ["LogSubscription"] = if (LogSubscription == null) null else LogSubscription
        ["MaxCapacity"] = if (MaxCapacity == null) null else MaxCapacity
        ["Outputs"] = if (Outputs == null) null else Outputs
        ["DatabaseOutputs"] = if (DatabaseOutputs == null) null else DatabaseOutputs
        ["Timeout"] = if (Timeout == null) null else Timeout
        ["EncryptionKeyArn"] = if (EncryptionKeyArn == null) null else EncryptionKeyArn
        ["EncryptionMode"] = if (EncryptionMode == null) null else EncryptionMode
        ["Name"] = if (Name == null) null else Name
        ["MaxRetries"] = if (MaxRetries == null) null else MaxRetries
        ["OutputLocation"] = if (OutputLocation == null) null else OutputLocation
        ["RoleArn"] = if (RoleArn == null) null else RoleArn
        ["DataCatalogOutputs"] = if (DataCatalogOutputs == null) null else DataCatalogOutputs
        ["Recipe"] = if (Recipe == null) null else Recipe
        ["Tags"] = if (Tags == null) null else Tags
        ["ValidationConfigurations"] = if (ValidationConfigurations == null) null else ValidationConfigurations
        ["DatasetName"] = if (DatasetName == null) null else DatasetName
        ["Type"] = if (TypeProperty == null) null else TypeProperty
        ["ProjectName"] = if (ProjectName == null) null else ProjectName
        ["JobSample"] = if (JobSample == null) null else JobSample
        ["ProfileConfiguration"] = if (ProfileConfiguration == null) null else ProfileConfiguration
    }

}


typealias JobLogSubscription = "ENABLE"|"DISABLE"

typealias JobEncryptionMode = "SSE-KMS"|"SSE-S3"

typealias JobType = "PROFILE"|"RECIPE"
