/// AWS::DataBrew::Job
///
/// Generated by rain build --pkl-class AWS::DataBrew::Job
module aws.databrew.job

import "../../cloudformation.pkl"

/// Configuration to attach Rulesets to the job
open class JobValidationConfiguration {
    RulesetArn: String|Mapping
    ValidationMode: (JobValidationMode)?
}

typealias JobValidationMode = String|Mapping


/// Job Sample
open class JobJobSample {
    Mode: (JobSampleMode)?
    Size: (JobJobSize)?
}

/// Format options for job Output
open class JobOutputFormatOptions {
    Csv: (JobCsvOutputOptions)?
}

/// 
open class JobDatabaseTableOutputOptions {
    TempDirectory: (JobS3Location)?
    TableName: String|Mapping
}

typealias JobStatistic = String|Mapping


/// A key-value pair to associate with a resource.
open class JobTag {
    Value: String|Mapping
    Key: String|Mapping
}

/// 
open class JobAllowedStatistics {
    Statistics: Listing<JobStatistic>
}

typealias JobParameterMap = Mapping<String, Any>


/// 
open class JobS3TableOutputOptions {
    Location: JobS3Location
}

/// 
open class JobProfileConfiguration {
    DatasetStatisticsConfiguration: (JobStatisticsConfiguration)?
    ProfileColumns: (Listing<JobColumnSelector>)?
    ColumnStatisticsConfigurations: (Listing<JobColumnStatisticsConfiguration>)?
    EntityDetectorConfiguration: (JobEntityDetectorConfiguration)?
}

/// 
open class JobStatisticsConfiguration {
    IncludedStatistics: (Listing<JobStatistic>)?
    Overrides: (Listing<JobStatisticOverride>)?
}

typealias OutputCompressionFormat = "GZIP"|"LZ4"|"SNAPPY"|"BZIP2"|"DEFLATE"|"LZO"|"BROTLI"|"ZSTD"|"ZLIB"

typealias OutputFormat = "CSV"|"JSON"|"PARQUET"|"GLUEPARQUET"|"AVRO"|"ORC"|"XML"|"TABLEAUHYPER"

/// 
open class JobOutput {
    MaxOutputFiles: (Int|Mapping)?
    CompressionFormat: (OutputCompressionFormat|Mapping)?
    Format: (OutputFormat|Mapping)?
    FormatOptions: (JobOutputFormatOptions)?
    PartitionColumns: (Listing<String|Mapping>)?
    Location: JobS3Location
    Overwrite: (Boolean|Mapping)?
}

/// Output Csv options
open class JobCsvOutputOptions {
    Delimiter: (String|Mapping)?
}

/// Output location
open class JobOutputLocation {
    Bucket: String|Mapping
    Key: (String|Mapping)?
    BucketOwner: (String|Mapping)?
}

typealias JobSampleMode = String|Mapping


/// 
open class JobDataCatalogOutput {
    DatabaseOptions: (JobDatabaseTableOutputOptions)?
    Overwrite: (Boolean|Mapping)?
    CatalogId: (String|Mapping)?
    DatabaseName: String|Mapping
    TableName: String|Mapping
    S3Options: (JobS3TableOutputOptions)?
}

typealias JobJobSize = Int|Mapping


typealias DatabaseOutputDatabaseOutputMode = "NEW_TABLE"

/// 
open class JobDatabaseOutput {
    GlueConnectionName: String|Mapping
    DatabaseOutputMode: (DatabaseOutputDatabaseOutputMode|Mapping)?
    DatabaseOptions: JobDatabaseTableOutputOptions
}

/// S3 Output location
open class JobS3Location {
    BucketOwner: (String|Mapping)?
    Bucket: String|Mapping
    Key: (String|Mapping)?
}

/// 
open class JobColumnStatisticsConfiguration {
    Statistics: JobStatisticsConfiguration
    Selectors: (Listing<JobColumnSelector>)?
}

/// 
open class JobColumnSelector {
    Regex: (String|Mapping)?
    Name: (String|Mapping)?
}

/// 
open class JobRecipe {
    Name: String|Mapping
    Version: (String|Mapping)?
}

/// 
open class JobStatisticOverride {
    Statistic: JobStatistic
    Parameters: JobParameterMap
}

/// 
open class JobEntityDetectorConfiguration {
    AllowedStatistics: (JobAllowedStatistics)?
    EntityTypes: Listing<String|Mapping>
}

/// Resource schema for AWS::DataBrew::Job.
open class Job extends cloudformation.Resource {

    Type = "AWS::DataBrew::Job"


    /// Output location
    hidden OutputLocation: (JobOutputLocation)?

    /// 
    hidden Tags: (Listing<JobTag>)?

    /// Timeout
    hidden Timeout: (Int|Mapping)?

    /// 
    hidden DataCatalogOutputs: (Listing<JobDataCatalogOutput>)?

    /// 
    hidden DatabaseOutputs: (Listing<JobDatabaseOutput>)?

    /// Max capacity
    hidden MaxCapacity: (Int|Mapping)?

    /// Role arn
    hidden RoleArn: String|Mapping

    /// Encryption mode
    hidden EncryptionMode: (JobEncryptionMode|Mapping)?

    /// Job Sample
    hidden JobSample: (JobJobSample)?

    /// Profile Job configuration
    hidden ProfileConfiguration: (JobProfileConfiguration)?

    /// Dataset name
    hidden DatasetName: (String|Mapping)?

    /// Encryption Key Arn
    hidden EncryptionKeyArn: (String|Mapping)?

    /// Log subscription
    hidden LogSubscription: (JobLogSubscription|Mapping)?

    /// Max retries
    hidden MaxRetries: (Int|Mapping)?

    /// 
    hidden Outputs: (Listing<JobOutput>)?

    /// Project name
    hidden ProjectName: (String|Mapping)?

    /// 
    hidden Recipe: (JobRecipe)?

    /// Data quality rules configuration
    hidden ValidationConfigurations: (Listing<JobValidationConfiguration>)?

    /// Job name
    hidden Name: String|Mapping

    /// Job type
    hidden TypeProperty: JobType|Mapping

    Properties {
        ["OutputLocation"] = if (OutputLocation == null) null else OutputLocation
        ["Tags"] = if (Tags == null) null else Tags
        ["Timeout"] = if (Timeout == null) null else Timeout
        ["DataCatalogOutputs"] = if (DataCatalogOutputs == null) null else DataCatalogOutputs
        ["DatabaseOutputs"] = if (DatabaseOutputs == null) null else DatabaseOutputs
        ["MaxCapacity"] = if (MaxCapacity == null) null else MaxCapacity
        ["RoleArn"] = if (RoleArn == null) null else RoleArn
        ["EncryptionMode"] = if (EncryptionMode == null) null else EncryptionMode
        ["JobSample"] = if (JobSample == null) null else JobSample
        ["ProfileConfiguration"] = if (ProfileConfiguration == null) null else ProfileConfiguration
        ["DatasetName"] = if (DatasetName == null) null else DatasetName
        ["EncryptionKeyArn"] = if (EncryptionKeyArn == null) null else EncryptionKeyArn
        ["LogSubscription"] = if (LogSubscription == null) null else LogSubscription
        ["MaxRetries"] = if (MaxRetries == null) null else MaxRetries
        ["Outputs"] = if (Outputs == null) null else Outputs
        ["ProjectName"] = if (ProjectName == null) null else ProjectName
        ["Recipe"] = if (Recipe == null) null else Recipe
        ["ValidationConfigurations"] = if (ValidationConfigurations == null) null else ValidationConfigurations
        ["Name"] = if (Name == null) null else Name
        ["Type"] = if (TypeProperty == null) null else TypeProperty
    }

}


typealias JobEncryptionMode = "SSE-KMS"|"SSE-S3"

typealias JobLogSubscription = "ENABLE"|"DISABLE"

typealias JobType = "PROFILE"|"RECIPE"
