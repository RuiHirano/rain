/// AWS::EC2::EC2Fleet
///
/// Generated by rain build --pkl-class AWS::EC2::EC2Fleet
module aws.ec2.ec2fleet

import "../../cloudformation.pkl"

/// 
open class FleetLaunchTemplateConfigRequest {
    LaunchTemplateSpecification: (FleetLaunchTemplateSpecificationRequest)?
    Overrides: (Listing<FleetLaunchTemplateOverridesRequest>)?
}

typealias InstanceRequirementsRequestAcceleratorManufacturers = "amazon-web-services"|"amd"|"habana"|"nvidia"|"xilinx"

typealias InstanceRequirementsRequestLocalStorageTypes = "hdd"|"ssd"

typealias InstanceRequirementsRequestBurstablePerformance = "included"|"required"|"excluded"

typealias InstanceRequirementsRequestBareMetal = "included"|"required"|"excluded"

typealias InstanceRequirementsRequestInstanceGenerations = "current"|"previous"

typealias InstanceRequirementsRequestLocalStorage = "included"|"required"|"excluded"

typealias InstanceRequirementsRequestAcceleratorTypes = "gpu"|"fpga"|"inference"

typealias InstanceRequirementsRequestCpuManufacturers = "intel"|"amd"|"amazon-web-services"

typealias InstanceRequirementsRequestAcceleratorNames = "a10g"|"a100"|"h100"|"inferentia"|"k520"|"k80"|"m60"|"radeon-pro-v520"|"t4"|"t4g"|"vu9p"|"v100"

/// 
open class InstanceRequirementsRequest {
    AcceleratorManufacturers: (Listing<InstanceRequirementsRequestAcceleratorManufacturers|Mapping>)?
    AcceleratorTotalMemoryMiB: (AcceleratorTotalMemoryMiBRequest)?
    NetworkInterfaceCount: (NetworkInterfaceCountRequest)?
    LocalStorageTypes: (Listing<InstanceRequirementsRequestLocalStorageTypes|Mapping>)?
    BurstablePerformance: (InstanceRequirementsRequestBurstablePerformance|Mapping)?
    RequireHibernateSupport: (Boolean|Mapping)?
    TotalLocalStorageGB: (TotalLocalStorageGBRequest)?
    SpotMaxPricePercentageOverLowestPrice: (Int|Mapping)?
    BareMetal: (InstanceRequirementsRequestBareMetal|Mapping)?
    InstanceGenerations: (Listing<InstanceRequirementsRequestInstanceGenerations|Mapping>)?
    OnDemandMaxPricePercentageOverLowestPrice: (Int|Mapping)?
    MaxSpotPriceAsPercentageOfOptimalOnDemandPrice: (Int|Mapping)?
    BaselineEbsBandwidthMbps: (BaselineEbsBandwidthMbpsRequest)?
    VCpuCount: (VCpuCountRangeRequest)?
    MemoryMiB: (MemoryMiBRequest)?
    AllowedInstanceTypes: (Listing<String|Mapping>)?
    ExcludedInstanceTypes: (Listing<String|Mapping>)?
    NetworkBandwidthGbps: (NetworkBandwidthGbpsRequest)?
    LocalStorage: (InstanceRequirementsRequestLocalStorage|Mapping)?
    AcceleratorTypes: (Listing<InstanceRequirementsRequestAcceleratorTypes|Mapping>)?
    AcceleratorCount: (AcceleratorCountRequest)?
    CpuManufacturers: (Listing<InstanceRequirementsRequestCpuManufacturers|Mapping>)?
    MemoryGiBPerVCpu: (MemoryGiBPerVCpuRequest)?
    AcceleratorNames: (Listing<InstanceRequirementsRequestAcceleratorNames|Mapping>)?
}

typealias CapacityRebalanceReplacementStrategy = "launch"|"launch-before-terminate"

/// 
open class CapacityRebalance {
    TerminationDelay: (Int|Mapping)?
    ReplacementStrategy: (CapacityRebalanceReplacementStrategy|Mapping)?
}

typealias SpotOptionsRequestInstanceInterruptionBehavior = "hibernate"|"stop"|"terminate"

typealias SpotOptionsRequestAllocationStrategy = "lowest-price"|"lowestPrice"|"diversified"|"capacityOptimized"|"capacity-optimized"|"capacityOptimizedPrioritized"|"capacity-optimized-prioritized"|"priceCapacityOptimized"|"price-capacity-optimized"

/// 
open class SpotOptionsRequest {
    SingleInstanceType: (Boolean|Mapping)?
    MinTargetCapacity: (Int|Mapping)?
    MaxTotalPrice: (String|Mapping)?
    InstanceInterruptionBehavior: (SpotOptionsRequestInstanceInterruptionBehavior|Mapping)?
    InstancePoolsToUseCount: (Int|Mapping)?
    MaintenanceStrategies: (MaintenanceStrategies)?
    SingleAvailabilityZone: (Boolean|Mapping)?
    AllocationStrategy: (SpotOptionsRequestAllocationStrategy|Mapping)?
}

/// 
open class Placement {
    Affinity: (String|Mapping)?
    HostId: (String|Mapping)?
    HostResourceGroupArn: (String|Mapping)?
    GroupName: (String|Mapping)?
    Tenancy: (String|Mapping)?
    SpreadDomain: (String|Mapping)?
    PartitionNumber: (Int|Mapping)?
    AvailabilityZone: (String|Mapping)?
}

/// 
open class TotalLocalStorageGBRequest {
    Max: (Number|Mapping)?
    Min: (Number|Mapping)?
}

/// 
open class OnDemandOptionsRequest {
    AllocationStrategy: (String|Mapping)?
    SingleInstanceType: (Boolean|Mapping)?
    MinTargetCapacity: (Int|Mapping)?
    MaxTotalPrice: (String|Mapping)?
    CapacityReservationOptions: (CapacityReservationOptionsRequest)?
    SingleAvailabilityZone: (Boolean|Mapping)?
}

/// 
open class Tag {
    Value: String|Mapping
    Key: String|Mapping
}

/// 
open class MemoryMiBRequest {
    Min: (Int|Mapping)?
    Max: (Int|Mapping)?
}

/// 
open class NetworkBandwidthGbpsRequest {
    Min: (Number|Mapping)?
    Max: (Number|Mapping)?
}

/// 
open class BaselineEbsBandwidthMbpsRequest {
    Max: (Int|Mapping)?
    Min: (Int|Mapping)?
}

/// 
open class NetworkInterfaceCountRequest {
    Min: (Int|Mapping)?
    Max: (Int|Mapping)?
}

typealias TargetCapacitySpecificationRequestDefaultTargetCapacityType = "on-demand"|"spot"

typealias TargetCapacitySpecificationRequestTargetCapacityUnitType = "vcpu"|"memory-mib"|"units"

/// 
open class TargetCapacitySpecificationRequest {
    DefaultTargetCapacityType: (TargetCapacitySpecificationRequestDefaultTargetCapacityType|Mapping)?
    TargetCapacityUnitType: (TargetCapacitySpecificationRequestTargetCapacityUnitType|Mapping)?
    TotalTargetCapacity: Int|Mapping
    OnDemandTargetCapacity: (Int|Mapping)?
    SpotTargetCapacity: (Int|Mapping)?
}

/// 
open class FleetLaunchTemplateSpecificationRequest {
    Version: String|Mapping
    LaunchTemplateName: (String(matches(Regex(#"[a-zA-Z0-9\(\)\.\-/_]+"#)))|Mapping)?
    LaunchTemplateId: (String|Mapping)?
}

typealias CapacityReservationOptionsRequestUsageStrategy = "use-capacity-reservations-first"

/// 
open class CapacityReservationOptionsRequest {
    UsageStrategy: (CapacityReservationOptionsRequestUsageStrategy|Mapping)?
}

/// 
open class FleetLaunchTemplateOverridesRequest {
    InstanceType: (String|Mapping)?
    InstanceRequirements: (InstanceRequirementsRequest)?
    MaxPrice: (String|Mapping)?
    WeightedCapacity: (Number|Mapping)?
    Placement: (Placement)?
    Priority: (Number|Mapping)?
    AvailabilityZone: (String|Mapping)?
    SubnetId: (String|Mapping)?
}

typealias TagSpecificationResourceType = "client-vpn-endpoint"|"customer-gateway"|"dedicated-host"|"dhcp-options"|"egress-only-internet-gateway"|"elastic-gpu"|"elastic-ip"|"export-image-task"|"export-instance-task"|"fleet"|"fpga-image"|"host-reservation"|"image"|"import-image-task"|"import-snapshot-task"|"instance"|"internet-gateway"|"key-pair"|"launch-template"|"local-gateway-route-table-vpc-association"|"natgateway"|"network-acl"|"network-insights-analysis"|"network-insights-path"|"network-interface"|"placement-group"|"reserved-instances"|"route-table"|"security-group"|"snapshot"|"spot-fleet-request"|"spot-instances-request"|"subnet"|"traffic-mirror-filter"|"traffic-mirror-session"|"traffic-mirror-target"|"transit-gateway"|"transit-gateway-attachment"|"transit-gateway-connect-peer"|"transit-gateway-multicast-domain"|"transit-gateway-route-table"|"volume"|"vpc"|"vpc-flow-log"|"vpc-peering-connection"|"vpn-connection"|"vpn-gateway"

/// 
open class TagSpecification {
    ResourceType: (TagSpecificationResourceType|Mapping)?
    Tags: (Listing<Tag>)?
}

/// 
open class VCpuCountRangeRequest {
    Min: (Int|Mapping)?
    Max: (Int|Mapping)?
}

/// 
open class MemoryGiBPerVCpuRequest {
    Min: (Number|Mapping)?
    Max: (Number|Mapping)?
}

/// 
open class AcceleratorCountRequest {
    Min: (Int|Mapping)?
    Max: (Int|Mapping)?
}

/// 
open class AcceleratorTotalMemoryMiBRequest {
    Min: (Int|Mapping)?
    Max: (Int|Mapping)?
}

/// 
open class MaintenanceStrategies {
    CapacityRebalance: (CapacityRebalance)?
}

/// Resource Type definition for AWS::EC2::EC2Fleet
open class EC2Fleet extends cloudformation.Resource {

    Type = "AWS::EC2::EC2Fleet"


    /// 
    hidden TagSpecifications: (Listing<TagSpecification>)?

    /// 
    hidden SpotOptions: (SpotOptionsRequest)?

    /// 
    hidden ReplaceUnhealthyInstances: (Boolean|Mapping)?

    /// 
    hidden LaunchTemplateConfigs: Listing<FleetLaunchTemplateConfigRequest>

    /// 
    hidden ValidUntil: (String|Mapping)?

    /// 
    hidden Context: (String|Mapping)?

    /// 
    hidden TargetCapacitySpecification: TargetCapacitySpecificationRequest

    /// 
    hidden TypeProperty: (EC2FleetType|Mapping)?

    /// 
    hidden ExcessCapacityTerminationPolicy: (EC2FleetExcessCapacityTerminationPolicy|Mapping)?

    /// 
    hidden OnDemandOptions: (OnDemandOptionsRequest)?

    /// 
    hidden ValidFrom: (String|Mapping)?

    /// 
    hidden TerminateInstancesWithExpiration: (Boolean|Mapping)?

    Properties {
        ["TagSpecifications"] = if (TagSpecifications == null) null else TagSpecifications
        ["SpotOptions"] = if (SpotOptions == null) null else SpotOptions
        ["ReplaceUnhealthyInstances"] = if (ReplaceUnhealthyInstances == null) null else ReplaceUnhealthyInstances
        ["LaunchTemplateConfigs"] = if (LaunchTemplateConfigs == null) null else LaunchTemplateConfigs
        ["ValidUntil"] = if (ValidUntil == null) null else ValidUntil
        ["Context"] = if (Context == null) null else Context
        ["TargetCapacitySpecification"] = if (TargetCapacitySpecification == null) null else TargetCapacitySpecification
        ["Type"] = if (TypeProperty == null) null else TypeProperty
        ["ExcessCapacityTerminationPolicy"] = if (ExcessCapacityTerminationPolicy == null) null else ExcessCapacityTerminationPolicy
        ["OnDemandOptions"] = if (OnDemandOptions == null) null else OnDemandOptions
        ["ValidFrom"] = if (ValidFrom == null) null else ValidFrom
        ["TerminateInstancesWithExpiration"] = if (TerminateInstancesWithExpiration == null) null else TerminateInstancesWithExpiration
    }

}


typealias EC2FleetType = "maintain"|"request"|"instant"

typealias EC2FleetExcessCapacityTerminationPolicy = "termination"|"no-termination"
