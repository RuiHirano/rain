/// AWS::Evidently::Experiment
///
/// Generated by rain build --pkl-class AWS::Evidently::Experiment
module aws.evidently.experiment

import "../../cloudformation.pkl"

/// A key-value pair to associate with a resource.
open class ExperimentTag {
    Key: String(matches(Regex(#"^(?!aws:)[a-zA-Z+-=._:/]+$"#)))|Mapping
    Value: String|Mapping
}

/// 
open class ExperimentTreatmentObject {
    TreatmentName: String(matches(Regex(#"[-a-zA-Z0-9._]*"#)))|Mapping
    Description: (String|Mapping)?
    Feature: String(matches(Regex(#"([-a-zA-Z0-9._]*)|(arn:[^:]*:[^:]*:[^:]*:[^:]*:.*)"#)))|Mapping
    Variation: String(matches(Regex(#"[-a-zA-Z0-9._]*"#)))|Mapping
}

/// 
open class ExperimentTreatmentToWeight {
    Treatment: String(matches(Regex(#"[-a-zA-Z0-9._]*"#)))|Mapping
    SplitWeight: Int|Mapping
}

typealias MetricGoalObjectDesiredChange = "INCREASE"|"DECREASE"

/// 
open class ExperimentMetricGoalObject {
    MetricName: String(matches(Regex(#"^[\S]+$"#)))|Mapping
    EntityIdKey: String|Mapping
    ValueKey: String|Mapping
    EventPattern: (String|Mapping)?
    UnitLabel: (String(matches(Regex(#".*"#)))|Mapping)?
    DesiredChange: MetricGoalObjectDesiredChange|Mapping
}

/// 
open class ExperimentOnlineAbConfigObject {
    ControlTreatmentName: (String(matches(Regex(#"[-a-zA-Z0-9._]*"#)))|Mapping)?
    TreatmentWeights: (Listing<ExperimentTreatmentToWeight>)?
}

/// 
open class ExperimentRunningStatusObject {
    Status: (String|Mapping)?
    AnalysisCompleteTime: (String|Mapping)?
    Reason: (String|Mapping)?
    DesiredState: (String(matches(Regex(#"^(CANCELLED|COMPLETED)"#)))|Mapping)?
}

/// Resource Type definition for AWS::Evidently::Experiment.
open class Experiment extends cloudformation.Resource {

    Type = "AWS::Evidently::Experiment"


    /// 
    hidden Description: (String|Mapping)?

    /// 
    hidden MetricGoals: Listing<ExperimentMetricGoalObject>

    /// 
    hidden Name: String(matches(Regex(#"[-a-zA-Z0-9._]*"#)))|Mapping

    /// 
    hidden OnlineAbConfig: ExperimentOnlineAbConfigObject

    /// 
    hidden Project: String(matches(Regex(#"([-a-zA-Z0-9._]*)|(arn:[^:]*:[^:]*:[^:]*:[^:]*:project/[-a-zA-Z0-9._]*)"#)))|Mapping

    /// 
    hidden RandomizationSalt: (String(matches(Regex(#".*"#)))|Mapping)?

    /// 
    hidden RemoveSegment: (Boolean|Mapping)?

    /// Start Experiment. Default is False
    hidden RunningStatus: (ExperimentRunningStatusObject)?

    /// 
    hidden SamplingRate: (Int|Mapping)?

    /// 
    hidden Segment: (String(matches(Regex(#"([-a-zA-Z0-9._]*)|(arn:[^:]*:[^:]*:[^:]*:[^:]*:segment/[-a-zA-Z0-9._]*)"#)))|Mapping)?

    /// An array of key-value pairs to apply to this resource.
    hidden Tags: (Listing<ExperimentTag>)?

    /// 
    hidden Treatments: Listing<ExperimentTreatmentObject>

    Properties {
        ["Description"] = if (Description == null) null else Description
        ["MetricGoals"] = if (MetricGoals == null) null else MetricGoals
        ["Name"] = if (Name == null) null else Name
        ["OnlineAbConfig"] = if (OnlineAbConfig == null) null else OnlineAbConfig
        ["Project"] = if (Project == null) null else Project
        ["RandomizationSalt"] = if (RandomizationSalt == null) null else RandomizationSalt
        ["RemoveSegment"] = if (RemoveSegment == null) null else RemoveSegment
        ["RunningStatus"] = if (RunningStatus == null) null else RunningStatus
        ["SamplingRate"] = if (SamplingRate == null) null else SamplingRate
        ["Segment"] = if (Segment == null) null else Segment
        ["Tags"] = if (Tags == null) null else Tags
        ["Treatments"] = if (Treatments == null) null else Treatments
    }

}
