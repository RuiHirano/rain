/// AWS::GlobalAccelerator::EndpointGroup
///
/// Generated by rain build --pkl-class AWS::GlobalAccelerator::EndpointGroup
module aws.globalaccelerator.endpointgroup

import "../../cloudformation.pkl"

/// The configuration for a given endpoint
open class EndpointGroupEndpointConfiguration {
    EndpointId: String|Mapping
    AttachmentArn: (String|Mapping)?
    Weight: (Int|Mapping)?
    ClientIPPreservationEnabled: (Boolean|Mapping)?
}

typealias EndpointGroupPort = Int|Mapping


/// listener to endpoint port mapping.
open class EndpointGroupPortOverride {
    ListenerPort: EndpointGroupPort
    EndpointPort: EndpointGroupPort
}

/// Resource Type definition for AWS::GlobalAccelerator::EndpointGroup
open class EndpointGroup extends cloudformation.Resource {

    Type = "AWS::GlobalAccelerator::EndpointGroup"


    /// 
    hidden PortOverrides: (Listing<EndpointGroupPortOverride>)?

    /// The Amazon Resource Name (ARN) of the listener
    hidden ListenerArn: String|Mapping

    /// The list of endpoint objects.
    hidden EndpointConfigurations: (Listing<EndpointGroupEndpointConfiguration>)?

    /// The port that AWS Global Accelerator uses to check the health of endpoints in this endpoint group.
    hidden HealthCheckPort: (Int|Mapping)?

    /// The protocol that AWS Global Accelerator uses to check the health of endpoints in this endpoint group.
    hidden HealthCheckProtocol: (EndpointGroupHealthCheckProtocol|Mapping)?

    /// 
    hidden HealthCheckPath: (String|Mapping)?

    /// The time in seconds between each health check for an endpoint. Must be a value of 10 or 30
    hidden HealthCheckIntervalSeconds: (Int|Mapping)?

    /// The name of the AWS Region where the endpoint group is located
    hidden EndpointGroupRegion: String|Mapping

    /// The percentage of traffic to sent to an AWS Region
    hidden TrafficDialPercentage: (Number|Mapping)?

    /// The number of consecutive health checks required to set the state of the endpoint to unhealthy.
    hidden ThresholdCount: (Int|Mapping)?

    Properties {
        ["PortOverrides"] = if (PortOverrides == null) null else PortOverrides
        ["ListenerArn"] = if (ListenerArn == null) null else ListenerArn
        ["EndpointConfigurations"] = if (EndpointConfigurations == null) null else EndpointConfigurations
        ["HealthCheckPort"] = if (HealthCheckPort == null) null else HealthCheckPort
        ["HealthCheckProtocol"] = if (HealthCheckProtocol == null) null else HealthCheckProtocol
        ["HealthCheckPath"] = if (HealthCheckPath == null) null else HealthCheckPath
        ["HealthCheckIntervalSeconds"] = if (HealthCheckIntervalSeconds == null) null else HealthCheckIntervalSeconds
        ["EndpointGroupRegion"] = if (EndpointGroupRegion == null) null else EndpointGroupRegion
        ["TrafficDialPercentage"] = if (TrafficDialPercentage == null) null else TrafficDialPercentage
        ["ThresholdCount"] = if (ThresholdCount == null) null else ThresholdCount
    }

}


typealias EndpointGroupHealthCheckProtocol = "TCP"|"HTTP"|"HTTPS"
