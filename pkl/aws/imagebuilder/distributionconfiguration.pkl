/// AWS::ImageBuilder::DistributionConfiguration
///
/// Generated by rain build --pkl-class AWS::ImageBuilder::DistributionConfiguration
module aws.imagebuilder.distributionconfiguration

import "../../cloudformation.pkl"

typealias TargetContainerRepositoryService = "ECR"

/// The destination repository for the container image.
open class TargetContainerRepository {
    Service: (TargetContainerRepositoryService|Mapping)?
    RepositoryName: (String|Mapping)?
}

/// Configuration settings for managing the number of snapshots that are created from pre-provisioned instances for the Windows AMI when faster launching is enabled.
open class FastLaunchSnapshotConfiguration {
    TargetResourceCount: (Int|Mapping)?
}

/// The specific AMI settings (for example, launch permissions, AMI tags).
open class AmiDistributionConfiguration {
    Name: (String|Mapping)?
    KmsKeyId: (String|Mapping)?
    Description: (String|Mapping)?
    AmiTags: (Dynamic)?
    TargetAccountIds: (Listing<String|Mapping>)?
    LaunchPermissionConfiguration: (LaunchPermissionConfiguration)?
}

/// The Windows faster-launching configuration to use for AMI distribution.
open class FastLaunchConfiguration {
    AccountId: (String|Mapping)?
    Enabled: (Boolean|Mapping)?
    LaunchTemplate: (FastLaunchLaunchTemplateSpecification)?
    MaxParallelLaunches: (Int|Mapping)?
    SnapshotConfiguration: (FastLaunchSnapshotConfiguration)?
}

/// Launch permissions can be used to configure which AWS accounts can use the AMI to launch instances.
open class LaunchPermissionConfiguration {
    UserIds: (Listing<String|Mapping>)?
    UserGroups: (Listing<String|Mapping>)?
    OrganizationArns: (Listing<String|Mapping>)?
    OrganizationalUnitArns: (Listing<String|Mapping>)?
}

/// The Amazon Resource Name (ARN) of the License Manager configuration.
open class LicenseConfigurationArn {
}

/// The launch template that the fast-launch enabled Windows AMI uses when it launches Windows instances to create pre-provisioned snapshots.
open class FastLaunchLaunchTemplateSpecification {
    LaunchTemplateId: (String|Mapping)?
    LaunchTemplateName: (String|Mapping)?
    LaunchTemplateVersion: (String|Mapping)?
}

/// The distributions of the distribution configuration.
open class Distribution {
    AmiDistributionConfiguration: (AmiDistributionConfiguration)?
    ContainerDistributionConfiguration: (ContainerDistributionConfiguration)?
    LicenseConfigurationArns: (Listing<LicenseConfigurationArn>)?
    LaunchTemplateConfigurations: (Listing<LaunchTemplateConfiguration>)?
    FastLaunchConfigurations: (Listing<FastLaunchConfiguration>)?
    Region: String|Mapping
}

/// Container distribution settings for encryption, licensing, and sharing in a specific Region.
open class ContainerDistributionConfiguration {
    Description: (String|Mapping)?
    ContainerTags: (Listing<String|Mapping>)?
    TargetRepository: (TargetContainerRepository)?
}

/// launchTemplateConfiguration settings that apply to image distribution.
open class LaunchTemplateConfiguration {
    LaunchTemplateId: (String|Mapping)?
    AccountId: (String|Mapping)?
    SetDefaultVersion: (Boolean|Mapping)?
}

/// Resource schema for AWS::ImageBuilder::DistributionConfiguration
open class DistributionConfiguration extends cloudformation.Resource {

    Type = "AWS::ImageBuilder::DistributionConfiguration"


    /// The name of the distribution configuration.
    hidden Name: String|Mapping

    /// The description of the distribution configuration.
    hidden Description: (String|Mapping)?

    /// The distributions of the distribution configuration.
    hidden Distributions: Listing<Distribution>

    /// The tags associated with the component.
    hidden Tags: (Dynamic)?

    Properties {
        ["Name"] = if (Name == null) null else Name
        ["Description"] = if (Description == null) null else Description
        ["Distributions"] = if (Distributions == null) null else Distributions
        ["Tags"] = if (Tags == null) null else Tags
    }

}
