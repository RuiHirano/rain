/// AWS::ImageBuilder::ImageRecipe
///
/// Generated by rain build --pkl-class AWS::ImageBuilder::ImageRecipe
module aws.imagebuilder.imagerecipe

import "../../cloudformation.pkl"

/// Specify additional settings and launch scripts for your build instances.
open class ImageRecipeAdditionalInstanceConfiguration {
    SystemsManagerAgent: (ImageRecipeSystemsManagerAgent)?
    UserDataOverride: (String|Mapping)?
}

/// Contains settings for the SSM agent on your build instance.
open class ImageRecipeSystemsManagerAgent {
    UninstallAfterBuild: (Boolean|Mapping)?
}

/// Contains a key/value pair that sets the named component parameter.
open class ImageRecipeComponentParameter {
    Name: String|Mapping
    Value: Listing<String|Mapping>
}

/// Configuration details of the component.
open class ImageRecipeComponentConfiguration {
    ComponentArn: (String|Mapping)?
    Parameters: (Listing<ImageRecipeComponentParameter>)?
}

/// Defines block device mappings for the instance used to configure your image. 
open class ImageRecipeInstanceBlockDeviceMapping {
    VirtualName: (String|Mapping)?
    NoDevice: (String|Mapping)?
    Ebs: (ImageRecipeEbsInstanceBlockDeviceSpecification)?
    DeviceName: (String|Mapping)?
}

typealias EbsInstanceBlockDeviceSpecificationVolumeType = "standard"|"io1"|"io2"|"gp2"|"gp3"|"sc1"|"st1"

/// Amazon EBS-specific block device mapping specifications. 
open class ImageRecipeEbsInstanceBlockDeviceSpecification {
    KmsKeyId: (String|Mapping)?
    SnapshotId: (String|Mapping)?
    Throughput: (Int|Mapping)?
    VolumeSize: (Int|Mapping)?
    VolumeType: (EbsInstanceBlockDeviceSpecificationVolumeType|Mapping)?
    Encrypted: (Boolean|Mapping)?
    DeleteOnTermination: (Boolean|Mapping)?
    Iops: (Int|Mapping)?
}

/// Resource schema for AWS::ImageBuilder::ImageRecipe
open class ImageRecipe extends cloudformation.Resource {

    Type = "AWS::ImageBuilder::ImageRecipe"


    /// The version of the image recipe.
    hidden Version: String|Mapping

    /// The components of the image recipe.
    hidden Components: Listing<ImageRecipeComponentConfiguration>

    /// The block device mappings to apply when creating images from this recipe.
    hidden BlockDeviceMappings: (Listing<ImageRecipeInstanceBlockDeviceMapping>)?

    /// The parent image of the image recipe.
    hidden ParentImage: String|Mapping

    /// The name of the image recipe.
    hidden Name: String|Mapping

    /// The description of the image recipe.
    hidden Description: (String|Mapping)?

    /// The working directory to be used during build and test workflows.
    hidden WorkingDirectory: (String|Mapping)?

    /// Specify additional settings and launch scripts for your build instances.
    hidden AdditionalInstanceConfiguration: (ImageRecipeAdditionalInstanceConfiguration)?

    /// The tags of the image recipe.
    hidden Tags: (Dynamic)?

    Properties {
        ["Version"] = if (Version == null) null else Version
        ["Components"] = if (Components == null) null else Components
        ["BlockDeviceMappings"] = if (BlockDeviceMappings == null) null else BlockDeviceMappings
        ["ParentImage"] = if (ParentImage == null) null else ParentImage
        ["Name"] = if (Name == null) null else Name
        ["Description"] = if (Description == null) null else Description
        ["WorkingDirectory"] = if (WorkingDirectory == null) null else WorkingDirectory
        ["AdditionalInstanceConfiguration"] = if (AdditionalInstanceConfiguration == null) null else AdditionalInstanceConfiguration
        ["Tags"] = if (Tags == null) null else Tags
    }

}
