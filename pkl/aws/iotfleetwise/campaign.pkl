/// AWS::IoTFleetWise::Campaign
///
/// Generated by rain build --pkl-class AWS::IoTFleetWise::Campaign
module aws.iotfleetwise.campaign

import "../../cloudformation.pkl"

typealias CampaignCampaignStatus = "CREATING"|"WAITING_FOR_APPROVAL"|"RUNNING"|"SUSPENDED"


/// 
open class CampaignTimeBasedCollectionScheme {
    PeriodMs: Number|Mapping
}

typealias CampaignDataFormat = "JSON"|"PARQUET"


typealias CampaignUpdateCampaignAction = "APPROVE"|"SUSPEND"|"RESUME"|"UPDATE"


typealias CampaignCompression = "OFF"|"SNAPPY"


typealias CampaignStorageCompressionFormat = "NONE"|"GZIP"


/// 
open class CampaignDataDestinationConfigS3Config {
    S3Config: CampaignS3Config
}

/// 
open class CampaignDataDestinationConfigTimestreamConfig {
    TimestreamConfig: CampaignTimestreamConfig
}

/// 
open class CampaignCollectionSchemeTimeBasedCollectionScheme {
    TimeBasedCollectionScheme: CampaignTimeBasedCollectionScheme
}

/// 
open class CampaignConditionBasedCollectionScheme {
    MinimumTriggerIntervalMs: (Number|Mapping)?
    Expression: String|Mapping
    TriggerMode: (CampaignTriggerMode)?
    ConditionLanguageVersion: (Int|Mapping)?
}

typealias CampaignSpoolingMode = "OFF"|"TO_DISK"


/// 
open class CampaignSignalInformation {
    MaxSampleCount: (Number|Mapping)?
    Name: String(matches(Regex(#"^[\w|*|-]+(\.[\w|*|-]+)*$"#)))|Mapping
    MinimumSamplingIntervalMs: (Number|Mapping)?
}

/// 
open class CampaignTimestreamConfig {
    TimestreamTableArn: String(matches(Regex(#"^arn:(aws[a-zA-Z0-9-]*):timestream:[a-zA-Z0-9-]+:[0-9]{12}:database\/[a-zA-Z0-9_.-]+\/table\/[a-zA-Z0-9_.-]+$"#)))|Mapping
    ExecutionRoleArn: String(matches(Regex(#"^arn:(aws[a-zA-Z0-9-]*):iam::(\d{12})?:(role((\u002F)|(\u002F[\u0021-\u007F]+\u002F))[\w+=,.@-]+)$"#)))|Mapping
}

typealias CampaignDiagnosticsMode = "OFF"|"SEND_ACTIVE_DTCS"


typealias CampaignDataDestinationConfig = CampaignDataDestinationConfigS3Config|CampaignDataDestinationConfigTimestreamConfig


/// 
open class CampaignS3Config {
    Prefix: (String(matches(Regex(#"^[a-zA-Z0-9-_:./!*'()]+$"#)))|Mapping)?
    BucketArn: String(matches(Regex(#"^arn:(aws[a-zA-Z0-9-]*):s3:::.+$"#)))|Mapping
    DataFormat: (CampaignDataFormat)?
    StorageCompressionFormat: (CampaignStorageCompressionFormat)?
}

typealias CampaignTriggerMode = "ALWAYS"|"RISING_EDGE"


typealias CampaignCollectionScheme = CampaignCollectionSchemeTimeBasedCollectionScheme|CampaignCollectionSchemeConditionBasedCollectionScheme


/// 
open class CampaignCollectionSchemeConditionBasedCollectionScheme {
    ConditionBasedCollectionScheme: CampaignConditionBasedCollectionScheme
}

/// 
open class CampaignTag {
    Key: String|Mapping
    Value: String|Mapping
}

/// Definition of AWS::IoTFleetWise::Campaign Resource Type
open class Campaign extends cloudformation.Resource {

    Type = "AWS::IoTFleetWise::Campaign"


    /// 
    hidden CollectionScheme: CampaignCollectionScheme

    /// 
    hidden Description: (String(matches(Regex(#"^[^\u0000-\u001F\u007F]+$"#)))|Mapping)?

    /// 
    hidden ExpiryTime: (String|Mapping)?

    /// 
    hidden SignalCatalogArn: String|Mapping

    /// 
    hidden DataExtraDimensions: (Listing<String|Mapping>)?

    /// 
    hidden Action: CampaignUpdateCampaignAction

    /// 
    hidden DataDestinationConfigs: (Listing<CampaignDataDestinationConfig>)?

    /// 
    hidden Compression: (CampaignCompression)?

    /// 
    hidden SpoolingMode: (CampaignSpoolingMode)?

    /// 
    hidden TargetArn: String|Mapping

    /// 
    hidden PostTriggerCollectionDuration: (Number|Mapping)?

    /// 
    hidden DiagnosticsMode: (CampaignDiagnosticsMode)?

    /// 
    hidden Priority: (Int|Mapping)?

    /// 
    hidden SignalsToCollect: (Listing<CampaignSignalInformation>)?

    /// 
    hidden StartTime: (String|Mapping)?

    /// 
    hidden Name: String(matches(Regex(#"^[a-zA-Z\d\-_:]+$"#)))|Mapping

    /// 
    hidden Tags: (Listing<CampaignTag>)?

    Properties {
        ["CollectionScheme"] = if (CollectionScheme == null) null else CollectionScheme
        ["Description"] = if (Description == null) null else Description
        ["ExpiryTime"] = if (ExpiryTime == null) null else ExpiryTime
        ["SignalCatalogArn"] = if (SignalCatalogArn == null) null else SignalCatalogArn
        ["DataExtraDimensions"] = if (DataExtraDimensions == null) null else DataExtraDimensions
        ["Action"] = if (Action == null) null else Action
        ["DataDestinationConfigs"] = if (DataDestinationConfigs == null) null else DataDestinationConfigs
        ["Compression"] = if (Compression == null) null else Compression
        ["SpoolingMode"] = if (SpoolingMode == null) null else SpoolingMode
        ["TargetArn"] = if (TargetArn == null) null else TargetArn
        ["PostTriggerCollectionDuration"] = if (PostTriggerCollectionDuration == null) null else PostTriggerCollectionDuration
        ["DiagnosticsMode"] = if (DiagnosticsMode == null) null else DiagnosticsMode
        ["Priority"] = if (Priority == null) null else Priority
        ["SignalsToCollect"] = if (SignalsToCollect == null) null else SignalsToCollect
        ["StartTime"] = if (StartTime == null) null else StartTime
        ["Name"] = if (Name == null) null else Name
        ["Tags"] = if (Tags == null) null else Tags
    }

}
