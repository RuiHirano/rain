/// AWS::KafkaConnect::Connector
///
/// Generated by rain build --pkl-class AWS::KafkaConnect::Connector
module aws.kafkaconnect.connector

import "../../cloudformation.pkl"

/// Details of encryption in transit to the Kafka cluster.
open class ConnectorKafkaClusterEncryptionInTransit {
    EncryptionType: ConnectorKafkaClusterEncryptionInTransitType
}

/// Details about a fixed capacity allocated to a connector.
open class ConnectorProvisionedCapacity {
    McuCount: (Int|Mapping)?
    WorkerCount: Int|Mapping
}

/// Details about delivering logs to Amazon S3.
open class ConnectorS3LogDelivery {
    Prefix: (String|Mapping)?
    Bucket: (String|Mapping)?
    Enabled: Boolean|Mapping
}

/// Information about the scale out policy of the connector.
open class ConnectorScaleOutPolicy {
    CpuUtilizationPercentage: Int|Mapping
}

/// Specifies the worker configuration to use with the connector.
open class ConnectorWorkerConfiguration {
    Revision: Int|Mapping
    WorkerConfigurationArn: String(matches(Regex(#"arn:(aws|aws-us-gov|aws-cn):kafkaconnect:.*"#)))|Mapping
}

/// Details of how to connect to an Apache Kafka cluster.
open class ConnectorApacheKafkaCluster {
    BootstrapServers: String|Mapping
    Vpc: ConnectorVpc
}

/// Specifies where worker logs are delivered.
open class ConnectorWorkerLogDelivery {
    CloudWatchLogs: (ConnectorCloudWatchLogsLogDelivery)?
    Firehose: (ConnectorFirehoseLogDelivery)?
    S3: (ConnectorS3LogDelivery)?
}

/// Details about auto scaling of a connector.
open class ConnectorAutoScaling {
    MaxWorkerCount: Int|Mapping
    MinWorkerCount: Int|Mapping
    ScaleInPolicy: ConnectorScaleInPolicy
    ScaleOutPolicy: ConnectorScaleOutPolicy
    McuCount: Int|Mapping
}

typealias ConnectorKafkaClusterEncryptionInTransitType = String|Mapping


typealias ConnectorKafkaClusterClientAuthenticationType = String|Mapping


/// Information about a VPC used with the connector.
open class ConnectorVpc {
    SecurityGroups: Listing<String|Mapping>
    Subnets: Listing<String|Mapping>
}

/// Information about the scale in policy of the connector.
open class ConnectorScaleInPolicy {
    CpuUtilizationPercentage: Int|Mapping
}

/// Details about delivering logs to Amazon Kinesis Data Firehose.
open class ConnectorFirehoseLogDelivery {
    DeliveryStream: (String|Mapping)?
    Enabled: Boolean|Mapping
}

/// 
open class ConnectorTag {
    Key: String|Mapping
    Value: String|Mapping
}

/// Details of the client authentication used by the Kafka cluster.
open class ConnectorKafkaClusterClientAuthentication {
    AuthenticationType: ConnectorKafkaClusterClientAuthenticationType
}

/// Information about the capacity allocated to the connector.
open class ConnectorCapacity {
    ProvisionedCapacity: (ConnectorProvisionedCapacity)?
    AutoScaling: (ConnectorAutoScaling)?
}

/// Details about a custom plugin.
open class ConnectorCustomPlugin {
    CustomPluginArn: String(matches(Regex(#"arn:(aws|aws-us-gov|aws-cn):kafkaconnect:.*"#)))|Mapping
    Revision: Int|Mapping
}

/// Details about delivering logs to Amazon CloudWatch Logs.
open class ConnectorCloudWatchLogsLogDelivery {
    Enabled: Boolean|Mapping
    LogGroup: (String|Mapping)?
}

/// Details of how to connect to the Kafka cluster.
open class ConnectorKafkaCluster {
    ApacheKafkaCluster: ConnectorApacheKafkaCluster
}

/// Details of what logs are delivered and where they are delivered.
open class ConnectorLogDelivery {
    WorkerLogDelivery: ConnectorWorkerLogDelivery
}

/// Details about a Kafka Connect plugin which will be used with the connector.
open class ConnectorPlugin {
    CustomPlugin: ConnectorCustomPlugin
}

/// Resource Type definition for AWS::KafkaConnect::Connector
open class Connector extends cloudformation.Resource {

    Type = "AWS::KafkaConnect::Connector"


    /// The name of the connector.
    hidden ConnectorName: String|Mapping

    /// A summary description of the connector.
    hidden ConnectorDescription: (String|Mapping)?

    /// 
    hidden LogDelivery: (ConnectorLogDelivery)?

    /// List of plugins to use with the connector.
    hidden Plugins: Listing<ConnectorPlugin>

    /// A collection of tags associated with a resource
    hidden Tags: (Listing<ConnectorTag>)?

    /// 
    hidden WorkerConfiguration: (ConnectorWorkerConfiguration)?

    /// 
    hidden Capacity: ConnectorCapacity

    /// The configuration for the connector.
    hidden ConnectorConfiguration: ConnectorConnectorConnectorConfiguration

    /// The version of Kafka Connect. It has to be compatible with both the Kafka cluster's version and the plugins.
    hidden KafkaConnectVersion: String|Mapping

    /// 
    hidden KafkaCluster: ConnectorKafkaCluster

    /// The Amazon Resource Name (ARN) of the IAM role used by the connector to access Amazon S3 objects and other external resources.
    hidden ServiceExecutionRoleArn: String(matches(Regex(#"arn:(aws|aws-us-gov|aws-cn):iam:.*"#)))|Mapping

    /// 
    hidden KafkaClusterClientAuthentication: ConnectorKafkaClusterClientAuthentication

    /// 
    hidden KafkaClusterEncryptionInTransit: ConnectorKafkaClusterEncryptionInTransit

    Properties {
        ["ConnectorName"] = if (ConnectorName == null) null else ConnectorName
        ["ConnectorDescription"] = if (ConnectorDescription == null) null else ConnectorDescription
        ["LogDelivery"] = if (LogDelivery == null) null else LogDelivery
        ["Plugins"] = if (Plugins == null) null else Plugins
        ["Tags"] = if (Tags == null) null else Tags
        ["WorkerConfiguration"] = if (WorkerConfiguration == null) null else WorkerConfiguration
        ["Capacity"] = if (Capacity == null) null else Capacity
        ["ConnectorConfiguration"] = if (ConnectorConfiguration == null) null else ConnectorConfiguration
        ["KafkaConnectVersion"] = if (KafkaConnectVersion == null) null else KafkaConnectVersion
        ["KafkaCluster"] = if (KafkaCluster == null) null else KafkaCluster
        ["ServiceExecutionRoleArn"] = if (ServiceExecutionRoleArn == null) null else ServiceExecutionRoleArn
        ["KafkaClusterClientAuthentication"] = if (KafkaClusterClientAuthentication == null) null else KafkaClusterClientAuthentication
        ["KafkaClusterEncryptionInTransit"] = if (KafkaClusterEncryptionInTransit == null) null else KafkaClusterEncryptionInTransit
    }

}


typealias ConnectorConnectorConnectorConfiguration = Mapping<String, Any>
