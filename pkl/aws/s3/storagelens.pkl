/// AWS::S3::StorageLens
///
/// Generated by rain build --pkl-class AWS::S3::StorageLens
module aws.s3.storagelens

import "../../cloudformation.pkl"

/// Prefix-level metrics configurations.
open class StorageLensPrefixLevel {
    StorageMetrics: StorageLensPrefixLevelStorageMetrics
}

/// 
open class StorageLensPrefixLevelStorageMetrics {
    IsEnabled: (Boolean|Mapping)?
    SelectionCriteria: (StorageLensSelectionCriteria)?
}

/// Selection criteria for prefix-level metrics.
open class StorageLensSelectionCriteria {
    MinStorageBytesPercentage: (Number|Mapping)?
    MaxDepth: (Int|Mapping)?
    Delimiter: (String|Mapping)?
}

typealias StorageLensStorageLensGroupArn = String|Mapping


/// Enables advanced cost optimization metrics.
open class StorageLensAdvancedCostOptimizationMetrics {
    IsEnabled: (Boolean|Mapping)?
}

/// The AWS Organizations ARN to use in the Amazon S3 Storage Lens configuration.
open class StorageLensAwsOrg {
    Arn: StorageLensArn
}

/// Bucket-level metrics configurations.
open class StorageLensBucketLevel {
    ActivityMetrics: (StorageLensActivityMetrics)?
    AdvancedCostOptimizationMetrics: (StorageLensAdvancedCostOptimizationMetrics)?
    AdvancedDataProtectionMetrics: (StorageLensAdvancedDataProtectionMetrics)?
    DetailedStatusCodesMetrics: (StorageLensDetailedStatusCodesMetrics)?
    PrefixLevel: (StorageLensPrefixLevel)?
}

/// Specifies how Amazon S3 Storage Lens metrics should be exported.
open class StorageLensDataExport {
    CloudWatchMetrics: (StorageLensCloudWatchMetrics)?
    S3BucketDestination: (StorageLensS3BucketDestination)?
}

/// AWS KMS server-side encryption.
open class StorageLensSSEKMS {
    KeyId: String|Mapping
}

/// Specifies the details of Amazon S3 Storage Lens Group configuration.
open class StorageLensStorageLensGroupLevel {
    StorageLensGroupSelectionCriteria: (StorageLensStorageLensGroupSelectionCriteria)?
}

typealias StorageLensArn = String|Mapping


/// CloudWatch metrics settings for the Amazon S3 Storage Lens metrics export.
open class StorageLensCloudWatchMetrics {
    IsEnabled: Boolean|Mapping
}

/// Enables detailed status codes metrics.
open class StorageLensDetailedStatusCodesMetrics {
    IsEnabled: (Boolean|Mapping)?
}

typealias StorageLensId = String|Mapping


typealias StorageLensEncryption = Dynamic


typealias S3BucketDestinationOutputSchemaVersion = "V_1"

typealias S3BucketDestinationFormat = "CSV"|"Parquet"

/// S3 bucket destination settings for the Amazon S3 Storage Lens metrics export.
open class StorageLensS3BucketDestination {
    Prefix: (String|Mapping)?
    Encryption: (StorageLensEncryption)?
    OutputSchemaVersion: S3BucketDestinationOutputSchemaVersion|Mapping
    Format: S3BucketDestinationFormat|Mapping
    AccountId: String|Mapping
    Arn: String|Mapping
}

/// Specifies the details of Amazon S3 Storage Lens configuration.
open class StorageLensStorageLensConfiguration {
    Include: (StorageLensBucketsAndRegions)?
    Exclude: (StorageLensBucketsAndRegions)?
    AwsOrg: (StorageLensAwsOrg)?
    AccountLevel: StorageLensAccountLevel
    DataExport: (StorageLensDataExport)?
    IsEnabled: Boolean|Mapping
    StorageLensArn: (String|Mapping)?
    Id: StorageLensId
}

/// Selection criteria for Storage Lens Group level metrics
open class StorageLensStorageLensGroupSelectionCriteria {
    Include: (Listing<StorageLensStorageLensGroupArn>)?
    Exclude: (Listing<StorageLensStorageLensGroupArn>)?
}

/// Account-level metrics configurations.
open class StorageLensAccountLevel {
    AdvancedCostOptimizationMetrics: (StorageLensAdvancedCostOptimizationMetrics)?
    AdvancedDataProtectionMetrics: (StorageLensAdvancedDataProtectionMetrics)?
    DetailedStatusCodesMetrics: (StorageLensDetailedStatusCodesMetrics)?
    BucketLevel: StorageLensBucketLevel
    StorageLensGroupLevel: (StorageLensStorageLensGroupLevel)?
    ActivityMetrics: (StorageLensActivityMetrics)?
}

/// Enables activity metrics.
open class StorageLensActivityMetrics {
    IsEnabled: (Boolean|Mapping)?
}

/// Enables advanced data protection metrics.
open class StorageLensAdvancedDataProtectionMetrics {
    IsEnabled: (Boolean|Mapping)?
}

/// S3 buckets and Regions to include/exclude in the Amazon S3 Storage Lens configuration.
open class StorageLensBucketsAndRegions {
    Buckets: (Listing<StorageLensArn>)?
    Regions: (Listing<String|Mapping>)?
}

/// 
open class StorageLensTag {
    Key: String(matches(Regex(#"^(?!aws:.*)[a-zA-Z0-9\s\_\.\/\=\+\-\@\:]+$"#)))|Mapping
    Value: String(matches(Regex(#"^(?!aws:.*)[a-zA-Z0-9\s\_\.\/\=\+\-\@\:]+$"#)))|Mapping
}

/// The AWS::S3::StorageLens resource is an Amazon S3 resource type that you can use to create Storage Lens configurations.
open class StorageLens extends cloudformation.Resource {

    Type = "AWS::S3::StorageLens"


    /// 
    hidden StorageLensConfiguration: StorageLensStorageLensConfiguration

    /// A set of tags (key-value pairs) for this Amazon S3 Storage Lens configuration.
    hidden Tags: (Listing<StorageLensTag>)?

    Properties {
        ["StorageLensConfiguration"] = if (StorageLensConfiguration == null) null else StorageLensConfiguration
        ["Tags"] = if (Tags == null) null else Tags
    }

}
