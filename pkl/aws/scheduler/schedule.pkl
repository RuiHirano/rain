/// AWS::Scheduler::Schedule
///
/// Generated by rain build --pkl-class AWS::Scheduler::Schedule
module aws.scheduler.schedule

import "../../cloudformation.pkl"

typealias ScheduleTagMap = Mapping<String, Any>


/// Name/Value pair of a parameter to start execution of a SageMaker Model Building Pipeline.
open class ScheduleSageMakerPipelineParameter {
    Name: String(matches(Regex(#"^[A-Za-z0-9\-_]*$"#)))|Mapping
    Value: String|Mapping
}

/// Contains the message group ID to use when the target is a FIFO queue. If you specify an SQS FIFO queue as a target, the queue must have content-based deduplication enabled.
open class ScheduleSqsParameters {
    MessageGroupId: (String|Mapping)?
}

typealias ScheduleLaunchType = "EC2"|"FARGATE"|"EXTERNAL"


/// This structure specifies the network configuration for an ECS task.
open class ScheduleNetworkConfiguration {
    AwsvpcConfiguration: (ScheduleAwsVpcConfiguration)?
}

/// The custom parameters to be used when the target is an Amazon ECS task.
open class ScheduleEcsParameters {
    TaskDefinitionArn: String|Mapping
    TaskCount: (Number|Mapping)?
    NetworkConfiguration: (ScheduleNetworkConfiguration)?
    CapacityProviderStrategy: (Listing<ScheduleCapacityProviderStrategyItem>)?
    EnableExecuteCommand: (Boolean|Mapping)?
    LaunchType: (ScheduleLaunchType)?
    EnableECSManagedTags: (Boolean|Mapping)?
    PlacementStrategy: (Listing<SchedulePlacementStrategy>)?
    ReferenceId: (String|Mapping)?
    Tags: (Listing<ScheduleTagMap>)?
    PlatformVersion: (String|Mapping)?
    Group: (String|Mapping)?
    PlacementConstraints: (Listing<SchedulePlacementConstraint>)?
    PropagateTags: (SchedulePropagateTags)?
}

typealias ScheduleScheduleState = "ENABLED"|"DISABLED"


typealias ScheduleAssignPublicIp = "ENABLED"|"DISABLED"


/// The schedule target.
open class ScheduleTarget {
    Arn: String|Mapping
    DeadLetterConfig: (ScheduleDeadLetterConfig)?
    RetryPolicy: (ScheduleRetryPolicy)?
    EventBridgeParameters: (ScheduleEventBridgeParameters)?
    KinesisParameters: (ScheduleKinesisParameters)?
    SqsParameters: (ScheduleSqsParameters)?
    RoleArn: String(matches(Regex(#"^arn:aws(-[a-z]+)?:iam::\d{12}:role\/[\w+=,.@\/-]+$"#)))|Mapping
    Input: (String|Mapping)?
    EcsParameters: (ScheduleEcsParameters)?
    SageMakerPipelineParameters: (ScheduleSageMakerPipelineParameters)?
}

typealias ScheduleFlexibleTimeWindowMode = "OFF"|"FLEXIBLE"


typealias SchedulePropagateTags = "TASK_DEFINITION"


/// The custom parameter you can use to control the shard to which EventBridge Scheduler sends the event.
open class ScheduleKinesisParameters {
    PartitionKey: String|Mapping
}

/// The task placement strategy for a task or service.
open class SchedulePlacementStrategy {
    Type: (SchedulePlacementStrategyType)?
    Field: (String|Mapping)?
}

/// An object representing a constraint on task placement.
open class SchedulePlacementConstraint {
    Type: (SchedulePlacementConstraintType)?
    Expression: (String|Mapping)?
}

/// The details of a capacity provider strategy.
open class ScheduleCapacityProviderStrategyItem {
    Weight: (Number|Mapping)?
    Base: (Number|Mapping)?
    CapacityProvider: String|Mapping
}

/// A RetryPolicy object that includes information about the retry policy settings.
open class ScheduleRetryPolicy {
    MaximumEventAgeInSeconds: (Number|Mapping)?
    MaximumRetryAttempts: (Number|Mapping)?
}

/// These are custom parameters to use when the target is a SageMaker Model Building Pipeline that starts based on AWS EventBridge Scheduler schedules.
open class ScheduleSageMakerPipelineParameters {
    PipelineParameterList: (Listing<ScheduleSageMakerPipelineParameter>)?
}

typealias SchedulePlacementStrategyType = "random"|"spread"|"binpack"


typealias SchedulePlacementConstraintType = "distinctInstance"|"memberOf"


/// A DeadLetterConfig object that contains information about a dead-letter queue configuration.
open class ScheduleDeadLetterConfig {
    Arn: (String(matches(Regex(#"^arn:aws(-[a-z]+)?:sqs:[a-z0-9\-]+:\d{12}:[a-zA-Z0-9\-_]+$"#)))|Mapping)?
}

/// This structure specifies the VPC subnets and security groups for the task, and whether a public IP address is to be used. This structure is relevant only for ECS tasks that use the awsvpc network mode.
open class ScheduleAwsVpcConfiguration {
    Subnets: Listing<String|Mapping>
    SecurityGroups: (Listing<String|Mapping>)?
    AssignPublicIp: (ScheduleAssignPublicIp)?
}

/// EventBridge PutEvent predefined target type.
open class ScheduleEventBridgeParameters {
    DetailType: String|Mapping
    Source: String(matches(Regex(#"^(?=[/\.\-_A-Za-z0-9]+)((?!aws\.).*)|(\$(\.[\w_-]+(\[(\d+|\*)\])*)*)$"#)))|Mapping
}

/// Flexible time window allows configuration of a window within which a schedule can be invoked
open class ScheduleFlexibleTimeWindow {
    Mode: ScheduleFlexibleTimeWindowMode
    MaximumWindowInMinutes: (Number|Mapping)?
}

/// Definition of AWS::Scheduler::Schedule Resource Type
open class Schedule extends cloudformation.Resource {

    Type = "AWS::Scheduler::Schedule"


    /// 
    hidden FlexibleTimeWindow: ScheduleFlexibleTimeWindow

    /// The scheduling expression.
    hidden ScheduleExpression: String|Mapping

    /// The timezone in which the scheduling expression is evaluated.
    hidden ScheduleExpressionTimezone: (String|Mapping)?

    /// The date, in UTC, after which the schedule can begin invoking its target. Depending on the schedule's recurrence expression, invocations might occur on, or after, the StartDate you specify.
    hidden StartDate: (String|Mapping)?

    /// 
    hidden State: (ScheduleScheduleState)?

    /// The description of the schedule.
    hidden Description: (String|Mapping)?

    /// The date, in UTC, before which the schedule can invoke its target. Depending on the schedule's recurrence expression, invocations might stop on, or before, the EndDate you specify.
    hidden EndDate: (String|Mapping)?

    /// The name of the schedule group to associate with this schedule. If you omit this, the default schedule group is used.
    hidden GroupName: (String(matches(Regex(#"^[0-9a-zA-Z-_.]+$"#)))|Mapping)?

    /// The ARN for a KMS Key that will be used to encrypt customer data.
    hidden KmsKeyArn: (String(matches(Regex(#"^arn:aws(-[a-z]+)?:kms:[a-z0-9\-]+:\d{12}:(key|alias)\/[0-9a-zA-Z-_]*$"#)))|Mapping)?

    /// 
    hidden Name: (String(matches(Regex(#"^[0-9a-zA-Z-_.]+$"#)))|Mapping)?

    /// 
    hidden Target: ScheduleTarget

    Properties {
        ["FlexibleTimeWindow"] = if (FlexibleTimeWindow == null) null else FlexibleTimeWindow
        ["ScheduleExpression"] = if (ScheduleExpression == null) null else ScheduleExpression
        ["ScheduleExpressionTimezone"] = if (ScheduleExpressionTimezone == null) null else ScheduleExpressionTimezone
        ["StartDate"] = if (StartDate == null) null else StartDate
        ["State"] = if (State == null) null else State
        ["Description"] = if (Description == null) null else Description
        ["EndDate"] = if (EndDate == null) null else EndDate
        ["GroupName"] = if (GroupName == null) null else GroupName
        ["KmsKeyArn"] = if (KmsKeyArn == null) null else KmsKeyArn
        ["Name"] = if (Name == null) null else Name
        ["Target"] = if (Target == null) null else Target
    }

}
