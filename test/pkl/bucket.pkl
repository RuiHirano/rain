// Represents a CloudFormation template that creates buckets

amends "modules/template.pkl"
import "modules/s3.pkl"

Description = "Create a bucket"

Metadata { 
    ["Foo"] = "bar"
}

Parameters {
    ["Name"] {
        Type = "String"
        Default = "baz"
    }
}

Resources {
    ["UntypedBucket"] {
        Type = "AWS::S3::Bucket"
        Properties {
           ["BucketName"] {
                ["Ref"] = "Name"
           }
        }
    }

    ["TypedBucket1"] = new s3.Bucket {
        BucketName = "foo"
    }

    ["TypedBucket2"] = new s3.Bucket {
        BucketName = Ref("Name")
    }

}

