amends "modules/template.pkl"
import "modules/cloudformation.pkl" as cfn
import "modules/aws/dynamodb/table.pkl"
import "modules/patterns/function.pkl" as func
import "modules/patterns/role.pkl"

local myLambda = new func {
    LogicalId = "MyLambda"
    AllowAccess = new role.Statement {
        Action = func.getDDBTableActions()
        Resource = cfn.GetAtt("MyTable", "Arn")
    }
}

local myTable = new table.Table {

}

Resources {

    ...myLambda.resources

    ["MyTable"] = myTable

}


